(function(){"use strict";var e={2172:function(e,t,s){var a=s(9242),l=s(65),o=s(3396);function i(e,t,s,a,l,i){const r=(0,o.up)("notifications");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(r,{position:"top center"}),((0,o.wg)(),(0,o.j4)((0,o.LL)(l.page)))],64)}const r=e=>((0,o.dD)("data-v-822aec9c"),e=e(),(0,o.Cn)(),e),n={class:"loginBox"},c=r((()=>(0,o._)("h3",null,"Авторизация",-1))),d={class:"inputBox"},p={class:"pole"},h=r((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-person-fill me-1",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})],-1))),_={class:"pole"},u=r((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-key-fill me-1",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})],-1))),v=["type"],f=r((()=>(0,o._)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"},null,-1))),m=r((()=>(0,o._)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"},null,-1))),g=[f,m],b=r((()=>(0,o._)("path",{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"},null,-1))),w=r((()=>(0,o._)("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"},null,-1))),y=[b,w],k={class:"pole mb-4 mt-2"},A=r((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-gear-fill me-1 mt-0",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})],-1))),x=(0,o.uE)('<datalist id="datalistOptions" data-v-822aec9c><option value="wss://lora-ws.rossma.tk" data-v-822aec9c></option><option value="wss://iiot-ws.rossma.tk" data-v-822aec9c></option></datalist><button class="btn p-0 ms-1 shadow-none" type="submit" title="Сохранить" data-v-822aec9c><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="green" class="bi bi-check-circle-fill m-0" viewBox="0 0 16 16" data-v-822aec9c><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" data-v-822aec9c></path></svg></button>',2),D={key:0,class:"btn btn-primary",type:"button",disabled:""},I={key:1,class:"btn btn-primary",type:"button",disabled:""},S={key:2,class:"btn btn-success shadow-none",type:"submit"};function q(e,t,s,l,i,r){return(0,o.wg)(),(0,o.iD)("form",{class:"login",onSubmit:t[6]||(t[6]=(0,a.iM)(((...e)=>r.connect&&r.connect(...e)),["prevent"]))},[(0,o._)("div",n,[c,(0,o._)("div",d,[(0,o._)("div",p,[h,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.login=e),required:"",placeholder:"Логин"},null,512),[[a.nr,i.login]])]),(0,o._)("div",_,[u,(0,o.wy)((0,o._)("input",{type:i.password_type,"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),required:"",placeholder:"Пароль"},null,8,v),[[a.YZ,i.password]]),i.show_password?((0,o.wg)(),(0,o.iD)("svg",{key:1,onClick:t[3]||(t[3]=(...e)=>r.change_visibility&&r.change_visibility(...e)),type:"button",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-eye-slash-fill",viewBox:"0 0 16 16"},y)):((0,o.wg)(),(0,o.iD)("svg",{key:0,onClick:t[2]||(t[2]=(...e)=>r.change_visibility&&r.change_visibility(...e)),type:"button",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},g))]),(0,o._)("div",k,[(0,o._)("form",{class:"d-flex align-items-center",onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>r.save_ws_link&&r.save_ws_link(...e)),["prevent"]))},[A,(0,o.wy)((0,o._)("input",{class:"form-control shadow-none mb-0",list:"datalistOptions",id:"exampleDataList",placeholder:"Введите адрес или выберите из списка",required:"","onUpdate:modelValue":t[4]||(t[4]=e=>i.ws_link=e)},null,512),[[a.nr,i.ws_link]]),x],32)]),i.selected?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",D," Выберите вебсокет ")),i.loading&&i.selected?((0,o.wg)(),(0,o.iD)("button",I," Подключение к вебсокету... ")):!i.loading&&i.selected?((0,o.wg)(),(0,o.iD)("button",S," Авторизоваться ")):(0,o.kq)("",!0)])])],32)}let C=new WebSocket(localStorage.default_ws_link?localStorage.default_ws_link:"wss://lora-ws.rossma.tk");var E=C,j={data(){return{login:"",password:"",loading:!0,show_password:!1,password_type:"password",ws_link:this.$store.state.ws_link,selected:!0}},mounted(){try{1==E.readyState&&(this.loading=!1)}catch(t){}var e=this;E.onopen=function(t){if(e.loading=!1,localStorage.token){var s=JSON.stringify({cmd:"token_auth_req",token:localStorage.token});E.send(s)}},E.onerror=function(t){e.$notify({title:"Ошибка",text:"Проблемы с подключением к вебсокету...",type:"error"})}},methods:{connect(){var e=JSON.stringify({cmd:"auth_req",login:this.login,password:this.password});E.send(e),this.password=""},change_visibility(){this.password_type="password"==this.password_type?"text":"password",this.show_password="password"!=this.password_type},save_ws_link(){if(this.ws_link.match("(wss://.*)|(ws://.*)")){this.selected=!0,this.loading=!0,E.close(),this.$store.commit("set_ws_link",""),this.$store.commit("set_ws_link",this.ws_link),localStorage.default_ws_link=this.ws_link,E=new WebSocket(this.$store.state.ws_link);var e=this;E.onopen=function(t){e.loading=!1},E.onerror=function(t){e.$notify({title:"Ошибка",text:"Проблемы с подключением к вебсокету...",type:"error"})}}else this.$notify({title:"Ошибка",text:"Неверный адрес вебсокета",type:"error"})}},watch:{ws_link(){this.selected=!1}}},O=s(89);const M=(0,O.Z)(j,[["render",q],["__scopeId","data-v-822aec9c"]]);var L=M,U=s(7139);const P={class:"navbar navbar-expand-lg navbar-dark bg-dark"},N={class:"container-fluid"},z=(0,o.uE)('<span class="navbar-brand mb-0 h1" data-v-44763eee><svg xmlns="http://www.w3.org/2000/svg" width="180" height="49" viewBox="0 0 180 49" data-v-44763eee><g fill="none" fill-rule="evenodd" data-v-44763eee><path fill="#D8D8D8" d="M22.8607115 24.402c0-1.0424928.8473517-1.8882754 1.8917786-1.8882754 1.0451384 0 1.8924901.8457826 1.8924901 1.8882754 0 1.0432029-.8473517 1.8889855-1.8924901 1.8889855-1.0444269 0-1.8917786-.8457826-1.8917786-1.8889855" data-v-44763eee></path><path fill="#D8D8D8" d="M21.8981028 24.402c0-1.5736812 1.2777865-2.8491014 2.8543873-2.8491014s2.8550988 1.2754202 2.8550988 2.8491014-1.278498 2.8498116-2.8550988 2.8498116-2.8543873-1.2761304-2.8543873-2.8498116" data-v-44763eee></path><path fill="#fff" d="M39.2869565 15.6203478c-.2468774.475087-.7406324.7804493-1.2863241.7804493-.7989723 0-1.4478261-.6476522-1.4478261-1.4458551 0-.7982029.6488538-1.4451449 1.4478261-1.4451449.5456917 0 1.0394467.3046522 1.2863241.7804493h5.9962056C41.4305929 6.50918841 33.4928063 1.55521739 24.753913 1.55521739c-8.7396047 0-16.6766798 4.95468116-20.52996043 12.73502901h5.99620553c.2468775-.4757971.7406324-.7804493 1.2863241-.7804493.7996838 0 1.4478261.646942 1.4478261 1.4451449s-.6481423 1.4458551-1.4478261 1.4458551c-.5456917 0-1.0394466-.3053623-1.2863241-.7804493H2.29731225l.11027668-.2705652C6.09652174 6.2862029 14.9243478.3351884 24.753913.3351884c9.8295653 0 18.6566799 5.9510145 22.3456127 15.0145942l.1102767.2705652H39.2869565zM13.6010277 28.459058c.2468774-.4757971.7406324-.7804493 1.2856126-.7804493.7996838 0 1.4485376.646942 1.4485376 1.4451449s-.6488538 1.4458551-1.4485376 1.4458551c-.5449802 0-1.0387352-.3046522-1.2856126-.7804493H1.21375494V28.459058H13.6010277zm3.3801581-4.7217537c.2468774-.4757971.7413438-.7804492 1.2863241-.7804492.7996838 0 1.4478261.6476521 1.4478261 1.4451449 0 .7982029-.6481423 1.4458551-1.4478261 1.4458551-.5449803 0-1.0394467-.3053623-1.2863241-.7804493H.63604743v-1.3301015H16.9811858zm-3.3801581-4.7224637c.2468774-.475087.7406324-.7797392 1.2856126-.7797392.7996838 0 1.4485376.6469421 1.4485376 1.445145 0 .7982029-.6488538 1.4451449-1.4485376 1.4451449-.5449802 0-1.0394466-.3046522-1.2856126-.7804493H1.21375494v-1.3301014H13.6010277zm-3.3808696 14.165971c.2468775-.475087.7406324-.7804493 1.2863241-.7804493.7996838 0 1.4478261.6476522 1.4478261 1.4458551 0 .7982029-.6481423 1.4451449-1.4478261 1.4451449-.5456917 0-1.0394466-.3046522-1.2863241-.7804493H4.22252964C8.07438735 42.2933913 16.0135968 47.2494928 24.753913 47.2494928c8.7403162 0 16.6788143-4.9561015 20.530672-12.7385798h-5.9976285c-.2468774.4757971-.7406324.7804493-1.2863241.7804493-.7996838 0-1.4478261-.646942-1.4478261-1.4451449s.6488538-1.4458551 1.4478261-1.4458551c.5456917 0 1.0394467.3053623 1.2863241.7804493H47.2105138l-.1095652.2705652c-3.6882213 9.065-12.5167589 15.0181449-22.3470356 15.0181449-9.8302766 0-18.65952565-5.9531449-22.34774699-15.0181449l-.10956522-.2705652H10.2201581zm25.6859289-3.3916522c-.2461661.4757971-.7406325.7804493-1.2856127.7804493-.7996838 0-1.4485375-.6476522-1.4485375-1.4458551 0-.7982029.6488537-1.4451449 1.4485375-1.4451449.5449802 0 1.0394466.3046522 1.2856127.7804493h12.3879841v1.3301014H35.906087zm-3.3801581-4.7217536c-.2468775.475087-.7406325.7804493-1.2863242.7804493-.7996838 0-1.447826-.6476522-1.447826-1.4458551 0-.7974928.6481422-1.4451449 1.447826-1.4451449.5456917 0 1.0394467.3046521 1.2863242.7804492h16.3451383v1.3301015H32.5259289zm3.3808695-4.7224638c-.2468775.4757971-.7413439.7804493-1.2863241.7804493-.7996838 0-1.4485375-.646942-1.4485375-1.4451449s.6488537-1.445145 1.4485375-1.445145c.5449802 0 1.0394466.3046522 1.2863241.7797392h12.3872727v1.3301014H35.9067984z" data-v-44763eee></path><path fill="#2A7DE0" d="M19.9223715 18.1655072c1.3361265-1.0318405 3.0109091-1.6461159 4.8301186-1.6461159 1.8192095 0 3.4947036.6142754 4.8301186 1.6461159.1572332.122145.2582609.3124638.2582609.5262174 0 .367145-.2981028.6646957-.6659289.6646957-.1536759 0-.2945454-.0518406-.4069565-.1384783-1.1105929-.857855-2.5029249-1.3684492-4.0154941-1.3684492-1.5104348 0-2.9013439.5091739-4.0105138 1.3648985l-.0042688.0035507c-.1124111.0866377-.2539921.1384783-.4069565.1384783-.3678261 0-.6659289-.2975507-.6659289-.6646957 0-.2137536.1010277-.4040724.2582609-.5262174h-.0007115" data-v-44763eee></path><path fill="#2A7DE0" d="M16.010751 14.2866957c2.3449802-2.0210725 5.4007115-3.2439421 8.7417391-3.2439421 3.3417391 0 6.3967589 1.2228696 8.7417391 3.2439421.1892491.1626231.3087748.4033623.3087748.6717971 0 .49-.3977076.886971-.8886166.886971-.2312253 0-.4425297-.0887681-.6004744-.2343479-2.0312253-1.7419855-4.6728853-2.7951304-7.5614229-2.7951304-2.8849802 0-5.5245059 1.0510145-7.5550197 2.7901594-.1586562.1484203-.3720949.2393189-.6068775.2393189-.4901976 0-.8879052-.396971-.8879052-.886971 0-.2684348.1195257-.509174.3087748-.6717971h-.0007115" data-v-44763eee></path><path fill="#2A7DE0" d="M12.2954941 10.5215072c3.3047431-2.95704343 7.6702767-4.75584053 12.456996-4.75584053 4.7874308 0 9.1536759 1.7987971 12.458419 4.75584053.2312253.1952899.378498.4871595.378498.8138261 0 .588-.4773913 1.0645073-1.0664822 1.0645073-.2817391 0-.5378656-.1086522-.7285375-.2868986-2.927668-2.62256519-6.7980238-4.21897099-11.0418973-4.21897099s-8.1135178 1.5964058-11.0418972 4.21897099c-.190672.1782464-.4467984.2868986-.7278261.2868986-.5890909 0-1.0664822-.4765073-1.0664822-1.0645073 0-.3266666.1472727-.6185362.3792095-.8138261" data-v-44763eee></path><path fill="#F0904C" d="M29.5826087 30.6392029c-1.335415 1.0318406-3.0109091 1.6461159-4.8301186 1.6461159-1.8192095 0-3.4939921-.6142753-4.8301186-1.6461159l.0007115-.0007101c-.1572332-.1214348-.2582609-.3117537-.2582609-.5255073 0-.3671449.2981028-.6646956.6659289-.6646956.1529644 0 .2945454.0518405.4069565.1384782 1.1098814.8578551 2.5022134 1.3684493 4.0147826 1.3684493 1.5104348 0 2.9020554-.5091739 4.0112253-1.3648986l.0042688-.0035507c.1124111-.0866377.2532806-.1384782.4069565-.1384782.3678261 0 .6659289.2975507.6659289.6646956 0 .2137536-.1010277.4040725-.2582609.5255073v.0007101" data-v-44763eee></path><path fill="#F0904C" d="M33.4942292 34.5180145c-2.3449802 2.0210725-5.4 3.243942-8.7417391 3.243942-3.3410276 0-6.3967589-1.2228695-8.7417391-3.243942-.189249-.1626232-.3087747-.4033623-.3087747-.6717971 0-.49.3977075-.886971.8886166-.886971.2319367 0 .4425296.0887681.6011858.2343478 2.0312253 1.7419855 4.6728853 2.7951304 7.5607114 2.7951304 2.8849803 0 5.5245059-1.0510145 7.5550198-2.7901594.1586561-.1484203.3720948-.2393188.6068775-.2393188.490909 0 .8886166.396971.8886166.886971 0 .2684348-.1195257.5091739-.3087748.6717971" data-v-44763eee></path><path fill="#F0904C" d="M37.2101976 38.2832029c-3.3047431 2.9570435-7.6709881 4.7558406-12.4577075 4.7558406-4.7874308 0-9.1536759-1.7987971-12.4577075-4.7558406-.2319368-.1952899-.378498-.4871594-.378498-.8138261 0-.588.4773913-1.0645072 1.0664822-1.0645072.2810277 0 .5371541.1086521.7278261.2868985 2.9283794 2.6225652 6.7980237 4.218971 11.0418972 4.218971 4.2438735 0 8.1135178-1.5964058 11.0418973-4.218971.1906719-.1782464.4467984-.2868985.7285375-.2868985.5890909 0 1.0664822.4765072 1.0664822 1.0645072 0 .3266667-.1472727.6185362-.3792095.8138261" data-v-44763eee></path><path fill="#fff" d="M71.5162055 20.1759275c0 1.6716812-.5350197 3.0046232-1.6100395 4.0002464-1.1347826 1.0645073-2.7405534 1.5942754-4.8230039 1.5942754h-3.3396048v8.6587971h-2.4161265V14.3712029h5.627668c2.113755 0 3.743004.5205362 4.8870356 1.5665797 1.1162846 1.014087 1.6740711 2.4294058 1.6740711 4.2381449zm-2.4979446-.0916087c0-2.4201739-1.4229249-3.6302608-4.2687747-3.6302608h-3.0059289v7.2612319h2.9283795c2.8956521 0 4.3463241-1.210087 4.3463241-3.6309711z" data-v-44763eee></path><g class="logo-words" data-v-44763eee><path stroke="#fff" stroke-width=".223" d="M71.5162055 20.1759275c0 1.6716812-.5350197 3.0046232-1.6100395 4.0002464-1.1347826 1.0645073-2.7405534 1.5942754-4.8230039 1.5942754h-3.3396048v8.6587971h-2.4161265V14.3712029h5.627668c2.113755 0 3.743004.5205362 4.8870356 1.5665797 1.1162846 1.014087 1.6740711 2.4294058 1.6740711 4.2381449zm-2.4979446-.0916087c0-2.4201739-1.4229249-3.6302608-4.2687747-3.6302608h-3.0059289v7.2612319h2.9283795c2.8956521 0 4.3463241-1.210087 4.3463241-3.6309711z" data-v-44763eee></path><path fill="#fff" d="M94.6899605 24.3913478c0 3.0962319-1.043004 5.6541739-3.1339921 7.6674348-2.0454546 1.9827246-4.5846641 2.9733768-7.6133597 2.9733768-3.0294071 0-5.5593676-.9906522-7.5998419-2.9733768-2.0817391-2.0132609-3.1204743-4.5712029-3.1204743-7.6674348 0-3.091971 1.0387352-5.649913 3.1204743-7.6631739 2.0404743-1.9734927 4.5704348-2.959884 7.5998419-2.959884 3.0286956 0 5.5679051.9863913 7.6133597 2.959884 2.0909881 2.0132609 3.1339921 4.5712029 3.1339921 7.6631739zm-2.5804743 0c0-2.4571014-.7733597-4.4710724-2.3243479-6.046884-1.5509881-1.5708406-3.5003952-2.3562609-5.8425296-2.3562609-2.3335968 0-4.2737549.7854203-5.8204743 2.3562609-1.5460079 1.5758116-2.3193676 3.5897826-2.3193676 6.046884 0 2.4428986.7776285 4.4575797 2.3286166 6.0419131 1.5516996 1.5850434 3.4868775 2.3796956 5.8112253 2.3796956 2.3328854 0 4.2780237-.7946522 5.8332806-2.3796956 1.5559684-1.5843334 2.3335969-3.5990145 2.3335969-6.0419131z" data-v-44763eee></path><path stroke="#fff" stroke-width=".223" d="M94.6899605 24.3913478c0 3.0962319-1.043004 5.6541739-3.1339921 7.6674348-2.0454546 1.9827246-4.5846641 2.9733768-7.6133597 2.9733768-3.0294071 0-5.5593676-.9906522-7.5998419-2.9733768-2.0817391-2.0132609-3.1204743-4.5712029-3.1204743-7.6674348 0-3.091971 1.0387352-5.649913 3.1204743-7.6631739 2.0404743-1.9734927 4.5704348-2.959884 7.5998419-2.959884 3.0286956 0 5.5679051.9863913 7.6133597 2.959884 2.0909881 2.0132609 3.1339921 4.5712029 3.1339921 7.6631739zm-2.5804743 0c0-2.4571014-.7733597-4.4710724-2.3243479-6.046884-1.5509881-1.5708406-3.5003952-2.3562609-5.8425296-2.3562609-2.3335968 0-4.2737549.7854203-5.8204743 2.3562609-1.5460079 1.5758116-2.3193676 3.5897826-2.3193676 6.046884 0 2.4428986.7776285 4.4575797 2.3286166 6.0419131 1.5516996 1.5850434 3.4868775 2.3796956 5.8112253 2.3796956 2.3328854 0 4.2780237-.7946522 5.8332806-2.3796956 1.5559684-1.5843334 2.3335969-3.5990145 2.3335969-6.0419131z" data-v-44763eee></path><path fill="#fff" d="M158.868854 34.4292464h-2.360633l-1.880395-13.5360725-6.941028 14.2483478-6.922529-14.2163913-1.844111 13.504116h-2.383399l3.042213-20.761087 8.094309 16.7423768 8.134861-16.7651014z" data-v-44763eee></path><path stroke="#fff" stroke-width=".223" d="M158.868854 34.4292464h-2.360633l-1.880395-13.5360725-6.941028 14.2483478-6.922529-14.2163913-1.844111 13.504116h-2.383399l3.042213-20.761087 8.094309 16.7423768 8.134861-16.7651014z" data-v-44763eee></path><path fill="#fff" d="M179.869091 34.4292464h-2.534941l-2.46166-5.5625652h-9.054782l-2.461661 5.5625652h-2.534229l9.516522-20.7703189 9.530751 20.7703189zm-5.925059-7.6447102l-3.605692-8.1205072-3.596443 8.1205072h7.202135z" data-v-44763eee></path><path stroke="#fff" stroke-width=".223" d="M179.869091 34.4292464h-2.534941l-2.46166-5.5625652h-9.054782l-2.461661 5.5625652h-2.534229l9.516522-20.7703189 9.530751 20.7703189zm-5.925059-7.6447102l-3.605692-8.1205072-3.596443 8.1205072h7.202135z" data-v-44763eee></path><path fill="#fff" d="M133.673834 33.0451739c-1.752332 1.3066667-4.008379 1.96-6.767431 1.96-3.047194 0-5.550118-1.0282898-7.508063-3.0784782-1.912411-2.0047392-2.868617-4.5165218-2.868617-7.5403189 0-2.9321884 1.00672-5.4347391 3.024427-7.5076522 2.012727-2.0736232 4.483637-3.1104347 7.402767-3.1104347 2.663004 0 4.904822.666826 6.716917 1.9962173v2.7944203c-1.912411-1.7121594-4.154941-2.5707246-6.716917-2.5707246-2.104506 0-3.943636.8358406-5.527352 2.5117826-1.583004 1.675942-2.37415 3.6394928-2.37415 5.8913623 0 2.3385073.732095 4.3112899 2.200553 5.9233189 1.500475 1.6482463 3.390119 2.4705942 5.673202 2.4705942 2.502925 0 4.749723-.8450725 6.744664-2.5302464v2.7901594z" data-v-44763eee></path><path stroke="#fff" stroke-width=".223" d="M133.673834 33.0451739c-1.752332 1.3066667-4.008379 1.96-6.767431 1.96-3.047194 0-5.550118-1.0282898-7.508063-3.0784782-1.912411-2.0047392-2.868617-4.5165218-2.868617-7.5403189 0-2.9321884 1.00672-5.4347391 3.024427-7.5076522 2.012727-2.0736232 4.483637-3.1104347 7.402767-3.1104347 2.663004 0 4.904822.666826 6.716917 1.9962173v2.7944203c-1.912411-1.7121594-4.154941-2.5707246-6.716917-2.5707246-2.104506 0-3.943636.8358406-5.527352 2.5117826-1.583004 1.675942-2.37415 3.6394928-2.37415 5.8913623 0 2.3385073.732095 4.3112899 2.200553 5.9233189 1.500475 1.6482463 3.390119 2.4705942 5.673202 2.4705942 2.502925 0 4.749723-.8450725 6.744664-2.5302464v2.7901594z" data-v-44763eee></path><path fill="#fff" d="M114.371858 33.0451739c-1.753044 1.3066667-4.00838 1.96-6.767431 1.96-3.047194 0-5.550119-1.0282898-7.508063-3.0784782-1.9124114-2.0047392-2.868617-4.5165218-2.868617-7.5403189 0-2.9321884 1.0060079-5.4347391 3.023715-7.5076522 2.013439-2.0736232 4.484348-3.1104347 7.403479-3.1104347 2.663004 0 4.904822.666826 6.716917 1.9962173v2.7944203c-1.912411-1.7121594-4.154941-2.5707246-6.716917-2.5707246-2.104506 0-3.944348.8358406-5.527352 2.5117826-1.583004 1.675942-2.3748617 3.6394928-2.3748617 5.8913623 0 2.3385073.7320947 4.3112899 2.2012647 5.9233189 1.500474 1.6482463 3.390119 2.4705942 5.673202 2.4705942 2.502925 0 4.749012-.8450725 6.744664-2.5302464v2.7901594z" data-v-44763eee></path><path stroke="#fff" stroke-width=".223" d="M114.371858 33.0451739c-1.753044 1.3066667-4.00838 1.96-6.767431 1.96-3.047194 0-5.550119-1.0282898-7.508063-3.0784782-1.9124114-2.0047392-2.868617-4.5165218-2.868617-7.5403189 0-2.9321884 1.0060079-5.4347391 3.023715-7.5076522 2.013439-2.0736232 4.484348-3.1104347 7.403479-3.1104347 2.663004 0 4.904822.666826 6.716917 1.9962173v2.7944203c-1.912411-1.7121594-4.154941-2.5707246-6.716917-2.5707246-2.104506 0-3.944348.8358406-5.527352 2.5117826-1.583004 1.675942-2.3748617 3.6394928-2.3748617 5.8913623 0 2.3385073.7320947 4.3112899 2.2012647 5.9233189 1.500474 1.6482463 3.390119 2.4705942 5.673202 2.4705942 2.502925 0 4.749012-.8450725 6.744664-2.5302464v2.7901594z" data-v-44763eee></path></g></g></svg></span><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" data-v-44763eee><span class="navbar-toggler-icon" data-v-44763eee></span></button>',2),T={class:"collapse navbar-collapse text-center",id:"navbarSupportedContent"},$={class:"nav nav-tabs me-auto mb-2 mb-lg-0 justify-content-center"},R={class:"nav-item me-1"},K={class:"nav-item me-1"},H={class:"nav-item me-1"},B={class:"d-flex"};function V(e,t,s,a,l,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",P,[(0,o._)("div",N,[z,(0,o._)("div",T,[(0,o._)("ul",$,[(0,o._)("li",R,[(0,o._)("button",{class:(0,U.C_)(["nav-link",{active:1===l.isActive}]),onClick:t[0]||(t[0]=e=>i.change_component("Devices"))}," Устройства ",2)]),(0,o._)("li",K,[(0,o._)("button",{class:(0,U.C_)(["nav-link",{active:2===l.isActive}]),onClick:t[1]||(t[1]=e=>i.change_component("Users"))}," Пользователи ",2)]),(0,o._)("li",H,[(0,o._)("button",{class:(0,U.C_)(["nav-link",{active:3===l.isActive}]),onClick:t[2]||(t[2]=e=>i.change_component("Decipher"))}," Дешифратор ",2)])]),(0,o._)("div",B,[(0,o._)("button",{onClick:t[3]||(t[3]=(...e)=>i.exit&&i.exit(...e)),class:"btn btn-danger shadow-none h-100"}," Выйти ")])])])]),((0,o.wg)(),(0,o.j4)(o.Ob,null,[((0,o.wg)(),(0,o.j4)((0,o.LL)(l.component)))],1024))],64)}const Y=e=>((0,o.dD)("data-v-79c9c392"),e=e(),(0,o.Cn)(),e),J={key:0,class:"d-flex vh-100 justify-content-center align-items-center"},W=Y((()=>(0,o._)("div",{class:"spinner-border",role:"status",style:{width:"5rem",height:"5rem"}},null,-1))),Z=[W],G={key:1,class:"container-fluid data"},F={class:"row"},X={class:"d-flex flex-column col-2 offset-lg-1"},Q=["id","value"],ee=["for"],te={class:"col-lg-8 col-md-10"},se={class:"table table-bordered table-hover w-100"},ae=Y((()=>(0,o._)("thead",{class:"sticky-top"},[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Название устройства"),(0,o._)("th",{scope:"col"},"DevEUI"),(0,o._)("th",{scope:"col"},"Группа"),(0,o._)("th",{scope:"col"},"Дата последней активности"),(0,o._)("th",{scope:"col"}),(0,o._)("th",{scope:"col"})])],-1))),le=["onClick"],oe=["onClick"],ie=["onClick"],re=["onClick"],ne={class:"key"},ce=["onClick"],de=Y((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-gear-fill",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})],-1))),pe=Y((()=>(0,o._)("span",{class:"visually-hidden"},"Button",-1))),he=[de,pe],_e={class:"key"},ue=["onClick"],ve=Y((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})],-1))),fe=Y((()=>(0,o._)("span",{class:"visually-hidden"},"Button",-1))),me=[ve,fe],ge={class:"modal fade",id:"delete","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},be={class:"modal-dialog"},we={class:"modal-content"},ye=Y((()=>(0,o._)("div",{class:"modal-header"},[(0,o._)("h5",{class:"modal-title",id:"staticBackdropLabel"},"Предупреждение"),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ke={class:"modal-body"},Ae=(0,o.Uk)(" Вы действительно хотите удалить "),xe=(0,o.Uk)("? "),De={class:"modal-footer"},Ie=Y((()=>(0,o._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"}," Отмена ",-1))),Se={class:"modal fade",id:"add","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qe={class:"modal-dialog modal-lg"},Ce={class:"modal-content"},Ee={class:"modal-header"},je={key:0,class:"modal-title",id:"staticBackdropLabel"},Oe={key:1,class:"modal-title",id:"staticBackdropLabel"},Me=Y((()=>(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),Le={class:"modal-body"},Ue={class:"row row-cols-1 row-cols-md-2 g-4"},Pe={class:"col"},Ne={class:"card border-dark mb-3"},ze=Y((()=>(0,o._)("div",{class:"card-header"}," Activation by personalisation (ABP) ",-1))),Te={class:"card-body"},$e=Y((()=>(0,o._)("label",{for:"devAddr",class:"form-label"},"devAddr",-1))),Re={class:"input-group mb-3"},Ke=["disabled"],He=Y((()=>(0,o._)("label",{for:"AppSkey",class:"form-label"},"AppSkey",-1))),Be={class:"input-group mb-3"},Ve=["disabled"],Ye=Y((()=>(0,o._)("label",{for:"NwkSKey",class:"form-label"},"NwkSKey",-1))),Je={class:"input-group mb-3"},We=["disabled"],Ze={class:"col"},Ge={class:"card border-dark mb-3"},Fe=Y((()=>(0,o._)("div",{class:"card-header"},"Over-the-air activation (OTAA)",-1))),Xe={class:"card-body"},Qe=Y((()=>(0,o._)("label",{for:"AppEUI",class:"form-label"},"AppEUI",-1))),et={class:"input-group mb-3"},tt=["disabled"],st=Y((()=>(0,o._)("label",{for:"AppKey",class:"form-label"},"AppKey",-1))),at={class:"input-group mb-3"},lt=["disabled"],ot={class:"col"},it={class:"card border-dark mb-3"},rt=Y((()=>(0,o._)("div",{class:"card-header"},"Основные настройки",-1))),nt={class:"card-body"},ct=Y((()=>(0,o._)("label",{for:"devName",class:"form-label"},"Название устройства",-1))),dt={class:"input-group mb-3"},pt=["disabled"],ht=Y((()=>(0,o._)("label",{for:"devEUI",class:"form-label"},"End-device identifier (DevEUI)",-1))),_t={class:"input-group mb-3"},ut=["disabled"],vt=Y((()=>(0,o._)("label",{for:"classSelect",class:"form-label"},"Класс",-1))),ft={class:"input-group mb-3"},mt=["disabled"],gt=Y((()=>(0,o._)("option",{value:"CLASS_A"},"Class A",-1))),bt=Y((()=>(0,o._)("option",{value:"CLASS_C"},"Class C",-1))),wt=[gt,bt],yt=Y((()=>(0,o._)("label",{for:"group",class:"form-label"},"Группа",-1))),kt={class:"input-group mb-3"},At={id:"datalistOptions"},xt=["value"],Dt={class:"col"},It={class:"card border-dark mb-3"},St=Y((()=>(0,o._)("div",{class:"card-header"},"Настройки частоты",-1))),qt={class:"card-body"},Ct=Y((()=>(0,o._)("label",{for:"freqSelect",class:"form-label"},"Частотный план",-1))),Et={class:"input-group mb-3"},jt=Y((()=>(0,o._)("option",null,"EU 868",-1))),Ot=Y((()=>(0,o._)("option",null,"RU 868",-1))),Mt=Y((()=>(0,o._)("option",null,"Настраиваемый",-1))),Lt=[jt,Ot,Mt],Ut={class:"table"},Pt=Y((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"№"),(0,o._)("th",{scope:"col"},"Частота")])],-1))),Nt=Y((()=>(0,o._)("th",{scope:"row"},"freq4",-1))),zt=["disabled"],Tt=Y((()=>(0,o._)("th",{scope:"row"},"freq5",-1))),$t=["disabled"],Rt=Y((()=>(0,o._)("th",{scope:"row"},"freq6",-1))),Kt=["disabled"],Ht=Y((()=>(0,o._)("th",{scope:"row"},"freq7",-1))),Bt=["disabled"],Vt=Y((()=>(0,o._)("th",{scope:"row"},"freq8",-1))),Yt=["disabled"],Jt=Y((()=>(0,o._)("label",{for:"RX2",class:"form-label"},"RX2 частота, Гц",-1))),Wt={class:"input-group mb-3"},Zt=["disabled"],Gt={class:"modal-footer"},Ft={type:"button",class:"btn btn-danger",ref:"close","data-bs-dismiss":"modal"};function Xt(e,t,s,l,i,r){return(0,o.wg)(),(0,o.iD)(o.HY,null,[i.loading?((0,o.wg)(),(0,o.iD)("div",J,Z)):((0,o.wg)(),(0,o.iD)("div",G,[(0,o._)("div",F,[(0,o._)("div",X,[(0,o._)("button",{type:"button",class:"btn btn-success shadow-none mb-3","data-bs-toggle":"modal","data-bs-target":"#add",onClick:t[0]||(t[0]=(...e)=>r.newDevice&&r.newDevice(...e))}," Добавить новое устройство "),(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Поиск по названию",class:"form-control shadow-none mb-2","onUpdate:modelValue":t[1]||(t[1]=e=>i.search_input=e)},null,512),[[a.nr,i.search_input]]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.groups,((e,s)=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"form-check"},[(0,o.wy)((0,o._)("input",{class:"form-check-input shadow-none",type:"radio",id:"flexRadioDefault"+s,value:e,"onUpdate:modelValue":t[2]||(t[2]=e=>i.filter=e)},null,8,Q),[[a.G2,i.filter]]),(0,o._)("label",{class:"form-check-label",for:"flexRadioDefault"+s},(0,U.zw)(e),9,ee)])))),128))]),(0,o._)("div",te,[(0,o._)("table",se,[ae,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.filtered_devices,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id,role:"button"},[(0,o._)("td",{onClick:t=>r.setActive(e)},(0,U.zw)(e.devName),9,le),(0,o._)("td",{onClick:t=>r.setActive(e)},(0,U.zw)(e.devEui),9,oe),(0,o._)("td",{onClick:t=>r.setActive(e)},(0,U.zw)(e.group),9,ie),(0,o._)("td",{onClick:t=>r.setActive(e)},(0,U.zw)(new Date(e.last_data_ts).toLocaleString("ru-RU",{day:"numeric",month:"long",year:"numeric"})),9,re),(0,o._)("td",ne,[(0,o._)("button",{type:"button",class:"btn btn-secondary shadow-none",title:"Настроить устройство","data-bs-toggle":"modal","data-bs-target":"#add",onClick:t=>r.forDelete_Edit(e)},he,8,ce)]),(0,o._)("td",_e,[(0,o._)("button",{type:"button",class:"btn btn-danger shadow-none","data-bs-toggle":"modal","data-bs-target":"#delete",title:"Удалить устройство",onClick:t=>r.forDelete_Edit(e)},me,8,ue)])])))),128))])])])])])),(0,o._)("div",ge,[(0,o._)("div",be,[(0,o._)("div",we,[ye,(0,o._)("div",ke,[Ae,(0,o._)("b",null,(0,U.zw)(i.current_device.devName),1),xe]),(0,o._)("div",De,[Ie,(0,o._)("button",{type:"button",class:"btn btn-success","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=(...e)=>r.deleteDevice&&r.deleteDevice(...e))}," Подтвердить ")])])])]),(0,o._)("div",Se,[(0,o._)("div",qe,[(0,o._)("div",Ce,[(0,o._)("div",Ee,[i.delete_or_edit?((0,o.wg)(),(0,o.iD)("h4",je," Редактирование настроек устройства ")):((0,o.wg)(),(0,o.iD)("h4",Oe," Добавление устройства ")),Me]),(0,o._)("div",Le,[(0,o._)("div",Ue,[(0,o._)("div",Pe,[(0,o._)("div",Ne,[ze,(0,o._)("div",Te,[$e,(0,o._)("div",Re,[(0,o.wy)((0,o._)("input",{type:"text",id:"devAddr",class:"form-control shadow-none",placeholder:"devAddr",title:"devAddr",disabled:i.delete_or_edit,"onUpdate:modelValue":t[4]||(t[4]=e=>i.devAddr=e)},null,8,Ke),[[a.nr,i.devAddr]])]),He,(0,o._)("div",Be,[(0,o.wy)((0,o._)("input",{type:"text",id:"AppSkey",class:"form-control shadow-none",placeholder:"APPSKEY",title:"AppSKey",disabled:i.delete_or_edit,"onUpdate:modelValue":t[5]||(t[5]=e=>i.AppSKey=e)},null,8,Ve),[[a.nr,i.AppSKey]])]),Ye,(0,o._)("div",Je,[(0,o.wy)((0,o._)("input",{type:"text",id:"NwkSKey",class:"form-control shadow-none",placeholder:"NWKSKEY",title:"NwkSKey",disabled:i.delete_or_edit,"onUpdate:modelValue":t[6]||(t[6]=e=>i.NwkSKey=e)},null,8,We),[[a.nr,i.NwkSKey]])])])])]),(0,o._)("div",Ze,[(0,o._)("div",Ge,[Fe,(0,o._)("div",Xe,[Qe,(0,o._)("div",et,[(0,o.wy)((0,o._)("input",{type:"text",id:"AppEUI",class:"form-control shadow-none",placeholder:"APPEUI",title:"AppEUI",disabled:i.delete_or_edit,"onUpdate:modelValue":t[7]||(t[7]=e=>i.AppEui=e)},null,8,tt),[[a.nr,i.AppEui]])]),st,(0,o._)("div",at,[(0,o.wy)((0,o._)("input",{type:"text",id:"AppKey",class:"form-control shadow-none",placeholder:"APPKEY",title:"AppKey",disabled:i.delete_or_edit,"onUpdate:modelValue":t[8]||(t[8]=e=>i.AppKey=e)},null,8,lt),[[a.nr,i.AppKey]])])])])]),(0,o._)("div",ot,[(0,o._)("div",it,[rt,(0,o._)("div",nt,[ct,(0,o._)("div",dt,[(0,o.wy)((0,o._)("input",{type:"text",id:"devName",class:"form-control shadow-none",placeholder:"Название устройства",title:"Название устройства",disabled:i.delete_or_edit,"onUpdate:modelValue":t[9]||(t[9]=e=>i.devName=e)},null,8,pt),[[a.nr,i.devName]])]),ht,(0,o._)("div",_t,[(0,o.wy)((0,o._)("input",{type:"text",id:"devEUI",class:"form-control shadow-none",placeholder:"devEUI",title:"devEUI",disabled:i.delete_or_edit,"onUpdate:modelValue":t[10]||(t[10]=e=>i.devEui=e)},null,8,ut),[[a.nr,i.devEui]])]),vt,(0,o._)("div",ft,[(0,o.wy)((0,o._)("select",{class:"form-select shadow-none","onUpdate:modelValue":t[11]||(t[11]=e=>i.devClass=e),disabled:!i.delete_or_edit,id:"classSelect"},wt,8,mt),[[a.bM,i.devClass]])]),yt,(0,o._)("div",kt,[(0,o.wy)((0,o._)("input",{id:"group",class:"form-control shadow-none",list:"datalistOptions",placeholder:"Группа","onUpdate:modelValue":t[12]||(t[12]=e=>i.group=e)},null,512),[[a.nr,i.group]]),(0,o._)("datalist",At,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.groups,(e=>((0,o.wg)(),(0,o.iD)("option",{value:e,key:e.id},null,8,xt)))),128))])])])])]),(0,o._)("div",Dt,[(0,o._)("div",It,[St,(0,o._)("div",qt,[Ct,(0,o._)("div",Et,[(0,o.wy)((0,o._)("select",{class:"form-select shadow-none",id:"freqSelect","onUpdate:modelValue":t[13]||(t[13]=e=>i.freqPlan=e)},Lt,512),[[a.bM,i.freqPlan]])]),(0,o._)("table",Ut,[Pt,(0,o._)("tbody",null,[(0,o._)("tr",null,[Nt,(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control shadow-none","onUpdate:modelValue":t[14]||(t[14]=e=>i.freq4=e),disabled:"RU 868"==i.freqPlan||"EU 868"==i.freqPlan},null,8,zt),[[a.nr,i.freq4]])])]),(0,o._)("tr",null,[Tt,(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control shadow-none","onUpdate:modelValue":t[15]||(t[15]=e=>i.freq5=e),disabled:"RU 868"==i.freqPlan||"EU 868"==i.freqPlan},null,8,$t),[[a.nr,i.freq5]])])]),(0,o._)("tr",null,[Rt,(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control shadow-none","onUpdate:modelValue":t[16]||(t[16]=e=>i.freq6=e),disabled:"RU 868"==i.freqPlan||"EU 868"==i.freqPlan},null,8,Kt),[[a.nr,i.freq6]])])]),(0,o._)("tr",null,[Ht,(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control shadow-none","onUpdate:modelValue":t[17]||(t[17]=e=>i.freq7=e),disabled:"RU 868"==i.freqPlan||"EU 868"==i.freqPlan},null,8,Bt),[[a.nr,i.freq7]])])]),(0,o._)("tr",null,[Vt,(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control shadow-none","onUpdate:modelValue":t[18]||(t[18]=e=>i.freq8=e),disabled:"RU 868"==i.freqPlan||"EU 868"==i.freqPlan},null,8,Yt),[[a.nr,i.freq8]])])])])]),Jt,(0,o._)("div",Wt,[(0,o.wy)((0,o._)("input",{type:"text",id:"RX2",class:"form-control shadow-none",placeholder:"RX2",title:"RX2",disabled:"RU 868"==i.freqPlan||"EU 868"==i.freqPlan,"onUpdate:modelValue":t[19]||(t[19]=e=>i.freqRx2=e)},null,8,Zt),[[a.nr,i.freqRx2]])])])])])])]),(0,o._)("div",Gt,[(0,o._)("button",Ft," Отмена ",512),i.delete_or_edit?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"btn btn-success",onClick:t[20]||(t[20]=(...e)=>r.save_settings&&r.save_settings(...e)),"data-bs-dismiss":"modal"}," Сохранить ")):((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",class:"btn btn-success",onClick:t[21]||(t[21]=(...e)=>r.save_settings&&r.save_settings(...e)),"data-bs-dismiss":"modal"}," Подтвердить "))])])])])],64)}var Qt={components:{},data(){return{devices:[],filtered_devices:[],groups:[],filter:"",search_input:"",current_device:[],delete_or_edit:!1,devices_extend:[],devices_pre:{},loading:!0,devAddr:"",AppSKey:"",NwkSKey:"",devName:"",devEui:"",devClass:"",group:"",AppEui:"",AppKey:"",freqPlan:"",freqPlans:{"RU 868":{freq4:8641e5,freq5:8643e5,freq6:8645e5,freq7:8647e5,freq8:8649e5},"EU 868":{freq4:8671e5,freq5:8673e5,freq6:8675e5,freq7:8677e5,freq8:8679e5},"Настраиваемый":{freq4:8671e5,freq5:8673e5,freq6:8675e5,freq7:8677e5,freq8:8679e5}},freq4:"",freq5:"",freq6:"",freq7:"",freq8:"",freqRx2:""}},mounted(){this.getDeviceListExtended(),this.getDeviceList(),this.$store.watch(this.$store.getters.devices,(e=>{this.devices=e,this.filtered_devices=this.devices})),this.$store.watch(this.$store.getters.groups,(e=>{this.groups=e,this.filter=this.groups[0],this.loading=!1}))},methods:{setActive(e){this.$store.commit("set_current_device",e),this.$store.commit("set_current_component","Device_detail")},getDeviceList(){var e=JSON.stringify({cmd:"get_device_appdata_req"});E.send(e)},getDeviceListExtended(){var e=JSON.stringify({cmd:"get_devices_req"});E.send(e)},forDelete_Edit(e){this.current_device=e;try{this.devAddr=e.ABP.devAddress}catch{this.devAddr=""}try{this.AppSKey=e.ABP.appsKey}catch{this.AppSKey=""}try{this.NwkSKey=e.ABP.nwksKey}catch{this.NwkSKey=""}try{this.devName=e.devName}catch{this.devName=""}try{this.devEui=e.devEui}catch{this.devEui=""}try{this.devClass=e.class}catch{this.devClass=""}try{this.group=e.group}catch{this.group=""}try{this.AppEui=e.OTAA.appEui}catch{this.AppEui=""}try{this.AppKey=e.OTAA.appKey}catch{this.AppKey=""}try{this.freqRx2=e.freqRx2}catch{this.freqRx2=0}try{this.freqPlan="",this.freq4="",this.freq5="",this.freq6="",this.freq7="",this.freq8="";for(const[t,s]of Object.entries(this.freqPlans))if(JSON.stringify(this.freqPlans[t])===JSON.stringify(e.frequencyPlan)){this.freq4=parseInt(this.freqPlans[t]["freq4"]),this.freq5=parseInt(this.freqPlans[t]["freq5"]),this.freq6=parseInt(this.freqPlans[t]["freq6"]),this.freq7=parseInt(this.freqPlans[t]["freq7"]),this.freq8=parseInt(this.freqPlans[t]["freq8"]),this.freqPlan=t;break}}catch{}this.delete_or_edit=!0},newDevice(){this.devAddr="",this.AppSKey="",this.NwkSKey="",this.devName="",this.devEui="",this.devClass="",this.group="",this.AppEui="",this.AppKey="",this.freqPlan="Настраиваемый",this.delete_or_edit=!1},deleteDevice(){var e=JSON.stringify({cmd:"delete_devices_req",devices_list:[this.current_device.devEui]});console.log(JSON.parse(e))},save_settings(){let e={devEui:this.devEui,devName:this.devName,ABP:{devAddress:parseInt(this.devAddr),appsKey:this.AppSKey,nwksKey:this.NwkSKey},OTAA:{appEui:this.AppEui,appKey:this.AppKey},frequencyPlan:{freq4:this.freq4,freq5:this.freq5,freq6:this.freq6,freq7:this.freq7,freq8:this.freq8},class:this.devClass,channelMask:{channel1En:!0,channel2En:!0,channel3En:!0,channel4En:!0,channel5En:!0,channel6En:!0,channel7En:!0,channel8En:!0,channel9En:!1,channel10En:!1,channel11En:!1,channel12En:!1,channel13En:!1,channel14En:!1,channel15En:!1,channel16En:!1},rxWindow:2,delayJoin1:5,preferDr:5,reactionTime:1e3};for(const s in e)if("object"==typeof e[s])for(const t in e[s])""!==e[s][t]&&e[s][t]||delete e[s][t];for(const s in e)""!==e[s]&&e[s]||delete e[s];for(const s in e)"object"==typeof e[s]&&0==Object.keys(e[s]).length&&delete e[s];var t=JSON.stringify({cmd:"manage_devices_req",devices_list:[e]});this.$refs["close"].click(),console.log(JSON.parse(t))}},watch:{freqPlan(){this.freq4=this.freqPlans[this.freqPlan]["freq4"],this.freq5=this.freqPlans[this.freqPlan]["freq5"],this.freq6=this.freqPlans[this.freqPlan]["freq6"],this.freq7=this.freqPlans[this.freqPlan]["freq7"],this.freq8=this.freqPlans[this.freqPlan]["freq8"],"Настраиваемый"==this.freqPlan&&(this.freqRx2=869525e3)},filter(){var e=this;let t=Array.from(this.devices);this.filtered_devices=t.filter((function(t){return"Все устройства"==e.filter||("Без группы"==e.filter?void 0==t.group:t.group==e.filter)})),this.filtered_devices=this.filtered_devices.filter((function(t){return""==e.search_input||t.devName.startsWith(e.search_input)}))},search_input(){var e=this;let t=Array.from(this.devices);this.filtered_devices=t.filter((function(t){return"Все устройства"==e.filter||("Без группы"==e.filter?void 0==t.group:t.group==e.filter)})),this.filtered_devices=this.filtered_devices.filter((function(t){return""==e.search_input||t.devName.startsWith(e.search_input)}))}}};const es=(0,O.Z)(Qt,[["render",Xt],["__scopeId","data-v-79c9c392"]]);var ts=es;const ss=e=>((0,o.dD)("data-v-038654ba"),e=e(),(0,o.Cn)(),e),as={key:0,class:"d-flex vh-100 justify-content-center align-items-center"},ls=ss((()=>(0,o._)("div",{class:"spinner-border",role:"status",style:{width:"5rem",height:"5rem"}},null,-1))),os=[ls],is={key:1,class:"container-fluid data"},rs={class:"row flex-lg-row flex-md-column"},ns={class:"d-flex flex-column col-lg-2 col-md-5 col-sm-5 col-7 offset-lg-1"},cs={class:"col-lg-5 col-md-12"},ds={class:"table table-hover w-100"},ps=ss((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Имя пользователя"),(0,o._)("th",{scope:"col"},"Доступ к устройствам"),(0,o._)("th",{scope:"col"}),(0,o._)("th",{scope:"col"})])],-1))),hs=["onClick"],_s=ss((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-gear-fill",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})],-1))),us=ss((()=>(0,o._)("span",{class:"visually-hidden"},"Button",-1))),vs=[_s,us],fs=["onClick"],ms=ss((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})],-1))),gs=ss((()=>(0,o._)("span",{class:"visually-hidden"},"Button",-1))),bs=[ms,gs],ws={class:"modal fade",id:"delete","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ys={class:"modal-dialog"},ks={class:"modal-content"},As=ss((()=>(0,o._)("div",{class:"modal-header"},[(0,o._)("h5",{class:"modal-title",id:"staticBackdropLabel"},"Предупреждение"),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),xs={class:"modal-body"},Ds=(0,o.Uk)(" Вы действительно хотите удалить "),Is=(0,o.Uk)("? "),Ss={class:"modal-footer"},qs=ss((()=>(0,o._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"}," Отмена ",-1))),Cs={class:"modal fade",id:"add","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Es={class:"modal-dialog modal-xl"},js={class:"modal-content"},Os={class:"modal-header"},Ms={key:0,class:"modal-title",id:"staticBackdropLabel"},Ls={key:1,class:"modal-title",id:"staticBackdropLabel"},Us=ss((()=>(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),Ps={class:"modal-body"},Ns={class:"row row-cols-1 row-cols-md-2 g-4"},zs={class:"col"},Ts={class:"card border-dark mb-3"},$s=ss((()=>(0,o._)("div",{class:"card-header"},"Информация о пользователе",-1))),Rs={class:"card-body"},Ks=ss((()=>(0,o._)("label",{for:"login",class:"form-label"},"Логин",-1))),Hs={class:"input-group mb-3"},Bs=["disabled"],Vs={key:0,for:"password",class:"form-label"},Ys={key:1,class:"input-group mb-3"},Js={class:"col"},Ws={class:"card border-dark mb-3"},Zs=ss((()=>(0,o._)("div",{class:"card-header"},"Привилегии пользователя",-1))),Gs={class:"card-body"},Fs=ss((()=>(0,o._)("label",{for:"devAccess",class:"form-label"},"Доступ к устройствам",-1))),Xs={class:"input-group mb-3"},Qs=ss((()=>(0,o._)("option",{value:"FULL"},"Полный",-1))),ea=ss((()=>(0,o._)("option",{value:"SELECTED"},"Частичный",-1))),ta=[Qs,ea],sa={class:"form-check"},aa=["checked"],la=ss((()=>(0,o._)("label",{class:"form-check-label",for:"flexCheckDefault"}," Доступ к консоли ",-1))),oa={class:"col"},ia={class:"card border-dark mb-3"},ra=ss((()=>(0,o._)("div",{class:"card-header"},"Права доступа",-1))),na={class:"card-body"},ca=ss((()=>(0,o._)("p",{class:"mt-0 mb-1"},"Общие",-1))),da={class:"form-check"},pa=["id","checked","onClick"],ha=["for"],_a=ss((()=>(0,o._)("p",{class:"mt-3 mb-1"},"Расширенные",-1))),ua={class:"form-check"},va=["id","checked","onClick"],fa=["for"],ma=ss((()=>(0,o._)("p",{class:"mt-3 mb-1"},"Настройки сети",-1))),ga={class:"form-check"},ba=["id","checked","onClick"],wa=["for"],ya={key:0,class:"col"},ka={class:"card border-dark mb-3"},Aa=ss((()=>(0,o._)("div",{class:"card-header"},"Доступные устройства",-1))),xa={class:"card-body"},Da={class:"new_dev mb-2"},Ia={class:"container"},Sa={class:"row"},qa={class:"ms-auto"},Ca=["onClick"],Ea=ss((()=>(0,o._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"},null,-1))),ja=[Ea],Oa={class:"modal-footer"},Ma={type:"button",class:"btn btn-danger",ref:"close","data-bs-dismiss":"modal"};function La(e,t,s,l,i,r){return(0,o.wg)(),(0,o.iD)(o.HY,null,[i.loading?((0,o.wg)(),(0,o.iD)("div",as,os)):((0,o.wg)(),(0,o.iD)("div",is,[(0,o._)("div",rs,[(0,o._)("div",ns,[(0,o._)("button",{type:"button",class:"btn btn-success shadow-none mb-3",onClick:t[0]||(t[0]=(...e)=>r.addUser&&r.addUser(...e)),"data-bs-toggle":"modal","data-bs-target":"#add"}," Добавить нового пользователя ")]),(0,o._)("div",cs,[(0,o._)("table",ds,[ps,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.userList,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id,role:"button"},[(0,o._)("td",null,(0,U.zw)(e.login),1),(0,o._)("td",null,(0,U.zw)("FULL"==e.device_access?"Полный":"Частичный"),1),(0,o._)("td",null,[(0,o._)("button",{type:"button",class:"btn btn-secondary shadow-none",title:"Настроить пользователя","data-bs-toggle":"modal","data-bs-target":"#add",onClick:t=>r.forDelete_Edit(e)},vs,8,hs)]),(0,o._)("td",null,[(0,o._)("button",{type:"button",class:"btn btn-danger shadow-none","data-bs-toggle":"modal","data-bs-target":"#delete",title:"Удалить пользователя",onClick:t=>r.forDelete_Edit(e)},bs,8,fs)])])))),128))])])])])])),(0,o._)("div",ws,[(0,o._)("div",ys,[(0,o._)("div",ks,[As,(0,o._)("div",xs,[Ds,(0,o._)("b",null,(0,U.zw)(i.current_user.login),1),Is]),(0,o._)("div",Ss,[qs,(0,o._)("button",{type:"button",class:"btn btn-success","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=(...e)=>r.deleteUser&&r.deleteUser(...e))}," Подтвердить ")])])])]),(0,o._)("div",Cs,[(0,o._)("div",Es,[(0,o._)("div",js,[(0,o._)("div",Os,[i.delete_or_edit?((0,o.wg)(),(0,o.iD)("h4",Ms," Редактирование настроек пользователя ")):((0,o.wg)(),(0,o.iD)("h4",Ls," Добавление нового пользователя ")),Us]),(0,o._)("div",Ps,[(0,o._)("div",Ns,[(0,o._)("div",zs,[(0,o._)("div",Ts,[$s,(0,o._)("div",Rs,[Ks,(0,o._)("div",Hs,[(0,o.wy)((0,o._)("input",{type:"text",id:"login",class:"form-control shadow-none",placeholder:"Логин",required:"true",title:"Логин",disabled:i.delete_or_edit,"onUpdate:modelValue":t[2]||(t[2]=e=>i.login=e)},null,8,Bs),[[a.nr,i.login]])]),i.delete_or_edit?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("label",Vs,"Пароль")),i.delete_or_edit?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Ys,[(0,o.wy)((0,o._)("input",{type:"text",id:"password",class:"form-control shadow-none",placeholder:"Пароль",required:"true",title:"Пароль","onUpdate:modelValue":t[3]||(t[3]=e=>i.password=e)},null,512),[[a.nr,i.password]])]))])])]),(0,o._)("div",Js,[(0,o._)("div",Ws,[Zs,(0,o._)("div",Gs,[Fs,(0,o._)("div",Xs,[(0,o.wy)((0,o._)("select",{id:"devAccess",class:"form-select shadow-none","onUpdate:modelValue":t[4]||(t[4]=e=>i.devAccess=e)},ta,512),[[a.bM,i.devAccess]])]),(0,o._)("div",sa,[(0,o._)("input",{class:"form-check-input shadow-none",type:"checkbox",checked:i.console_enabled,onClick:t[5]||(t[5]=e=>i.console_enabled=!i.console_enabled),id:"flexCheckDefault"},null,8,aa),la])])])]),(0,o._)("div",oa,[(0,o._)("div",ia,[ra,(0,o._)("div",na,[ca,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.command_list_full.common,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("div",da,[(0,o._)("input",{class:"form-check-input shadow-none",type:"checkbox",value:"",id:t,checked:-1!=i.command_list.indexOf(t),onClick:e=>r.add_or_delete_command(t)},null,8,pa),(0,o._)("label",{class:"form-check-label",for:t},(0,U.zw)(e),9,ha)])])))),128)),_a,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.command_list_full.external,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("div",ua,[(0,o._)("input",{class:"form-check-input shadow-none",type:"checkbox",value:"",id:t,checked:-1!=i.command_list.indexOf(t),onClick:e=>r.add_or_delete_command(t)},null,8,va),(0,o._)("label",{class:"form-check-label",for:t},(0,U.zw)(e),9,fa)])])))),128)),ma,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.command_list_full.network,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("div",ga,[(0,o._)("input",{class:"form-check-input shadow-none",type:"checkbox",value:"",id:t,checked:-1!=i.command_list.indexOf(t),onClick:e=>r.add_or_delete_command(t)},null,8,ba),(0,o._)("label",{class:"form-check-label",for:t},(0,U.zw)(e),9,wa)])])))),128))])])]),"SELECTED"==i.devAccess?((0,o.wg)(),(0,o.iD)("div",ya,[(0,o._)("div",ka,[Aa,(0,o._)("div",xa,[(0,o._)("div",Da,[(0,o.wy)((0,o._)("input",{type:"text",id:"DEVEUI",class:"form-control shadow-none",placeholder:"DEVEUI",title:"DEVEUI","onUpdate:modelValue":t[6]||(t[6]=e=>i.newdevEui=e)},null,512),[[a.nr,i.newdevEui]]),(0,o._)("button",{class:"btn btn-success ms-1 new_dev_eui",onClick:t[7]||(t[7]=(...e)=>r.add_device&&r.add_device(...e))}," Добавить devEui ")]),(0,o._)("div",Ia,[(0,o._)("div",Sa,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.available_devices,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col-5 me-auto mb-2 d-flex",key:e.id},[(0,o._)("div",null,(0,U.zw)(e),1),(0,o._)("div",qa,[((0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"red",class:"bi bi-x",viewBox:"0 0 16 16",type:"button",onClick:t=>r.delete_device(e)},ja,8,Ca))])])))),128))])])])])])):(0,o.kq)("",!0)])]),(0,o._)("div",Oa,[(0,o._)("button",Ma," Отмена ",512),i.delete_or_edit?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[8]||(t[8]=(...e)=>r.save_settings&&r.save_settings(...e)),class:"btn btn-success"}," Сохранить ")):((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t[9]||(t[9]=(...e)=>r.save_settings&&r.save_settings(...e)),class:"btn btn-success"}," Добавить "))])])])])],64)}const Ua={common:{get_devices:"Получение списка устройств с информацией о них",get_device_appdata:"Получение списка устройств с атрибутами",get_data:"Получение данных с устройства",send_data:"Отправка данных на устройство"},external:{manage_devices:"Добавление новых устройств или редактирование настроек существующего",delete_devices:"Удаление устройств",manage_device_appdata:"???",delete_device_appdata:"Удаление атрибутов устройства",get_users:"Получение списка зарегистрированных пользователей",manage_users:"Добавление пользователей или редактирование их прав",delete_users:"Удаление пользователей"},network:{get_gateways:"Получение списка зарегистрированных шлюзов",manage_gateways:"Добавление новых шлюзов или редактирование настроек существующего",delete_gateways:"Удаление шлюзов",get_coverage_map:"Получение информации об области",get_device_downlink_queue:"Получение информации об очереди пакетов",manage_device_downlink_queue:"Изменение очереди пакетов",server_info:"Получение информации о сервере",send_email:"Отправка e-mail",tx:"Отправка пакета на устройство"}};var Pa=Ua,Na={data(){return{userList:[],current_user:"",command_list_full:Pa,loading:!0,delete_or_edit:!1,login:"",password:"",command_list:[],console_enabled:!1,devAccess:"SELECTED",available_devices:[],newdevEui:"",edited:!1}},mounted(){this.getUsers(),this.$store.watch(this.$store.getters.userList,(e=>{this.userList=e,this.loading=!1}))},methods:{getUsers(){var e=JSON.stringify({cmd:"get_users_req"});E.send(e)},forDelete_Edit(e){this.current_user=e,this.delete_or_edit=!0,this.login=e.login,this.command_list=Array.from(e.command_list),this.console_enabled=e.consoleEnable,this.devAccess=e.device_access,this.available_devices=Array.from(e.devEui_list)},deleteUser(){var e=JSON.stringify({cmd:"delete_users_req",user_list:[this.current_user.login]});E.send(e),this.getUsers(),console.log(JSON.parse(e))},addUser(){this.delete_or_edit=!1,this.current_user=[],this.login="",this.password="",this.command_list=[],this.console_enabled=!1,this.devAccess="SELECTED",this.available_devices=[],this.edited=!1},add_or_delete_command(e){-1!=this.command_list.indexOf(e)?this.command_list.splice(this.command_list.indexOf(e),1):this.command_list.push(e)},add_device(){this.available_devices.push(this.newdevEui),this.newdevEui=""},delete_device(e){this.available_devices.splice(this.available_devices.indexOf(e),1)},save_settings(){var e=JSON.stringify({cmd:"manage_users_req",user_list:this.delete_or_edit?[{login:this.login,device_access:this.devAccess,consoleEnable:this.console_enabled,command_list:this.command_list,devEui_list:this.available_devices,rx_settings:{unsolicited:!0,direction:"ALL",withMacCommands:!0}}]:[{login:this.login,password:this.password,device_access:this.devAccess,consoleEnable:this.console_enabled,command_list:this.command_list,devEui_list:this.available_devices,rx_settings:{unsolicited:!0,direction:"ALL",withMacCommands:!0}}]});console.log(JSON.parse(e)),E.send(e),this.getUsers(),this.$refs["close"].click()}}};const za=(0,O.Z)(Na,[["render",La],["__scopeId","data-v-038654ba"]]);var Ta=za;const $a=e=>((0,o.dD)("data-v-3b79e12a"),e=e(),(0,o.Cn)(),e),Ra={key:0,class:"d-flex vh-100 justify-content-center align-items-center"},Ka=$a((()=>(0,o._)("div",{class:"spinner-border",role:"status",style:{width:"5rem",height:"5rem"}},null,-1))),Ha=[Ka],Ba={key:1,class:"container-fluid info"},Va={class:"row"},Ya={class:"d-flex flex-column col-2"},Ja=$a((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left-circle-fill",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})],-1))),Wa=(0,o.Uk)(" Назад "),Za=[Ja,Wa],Ga={key:0,class:"col-lg-8 col-md-10"},Fa=$a((()=>(0,o._)("label",{for:"period"},"Данные за",-1))),Xa=(0,o.uE)('<option value="today" data-v-3b79e12a>Сегодня</option><option value="week" data-v-3b79e12a>Неделя</option><option value="month" data-v-3b79e12a>Месяц</option><option value="three_month" data-v-3b79e12a>3 месяца</option><option value="half_year" data-v-3b79e12a>Полгода</option><option value="year" data-v-3b79e12a>Год</option><option value="all" data-v-3b79e12a>Всё время</option>',7),Qa=[Xa],el={class:"table table-bordered"},tl={colspan:"100%",class:"text-center header"},sl={colspan:"100%",style:{"word-break":"break-all"}},al=(0,o.Uk)(" Последний пакет: "),ll={colspan:"100%"},ol={key:0},il=$a((()=>(0,o._)("th",{scope:"col"},"#",-1))),rl={key:0},nl=$a((()=>(0,o._)("option",{value:1},"ед",-1))),cl=["value"],dl={key:0},pl={scope:"row"},hl={key:1,class:"col"},_l=$a((()=>(0,o._)("label",{for:"period"},"Данные за",-1))),ul=(0,o.uE)('<option value="today" data-v-3b79e12a>Сегодня</option><option value="week" data-v-3b79e12a>Неделя</option><option value="month" data-v-3b79e12a>Месяц</option><option value="three_month" data-v-3b79e12a>3 месяца</option><option value="half_year" data-v-3b79e12a>Полгода</option><option value="year" data-v-3b79e12a>Год</option><option value="all" data-v-3b79e12a>Всё время</option>',7),vl=[ul],fl={key:0,class:"row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-2 row-cols-xl-2"};function ml(e,t,s,l,i,r){const n=(0,o.up)("apexchart"),c=(0,o.Q2)("tooltip");return i.loading?((0,o.wg)(),(0,o.iD)("div",Ra,Ha)):((0,o.wg)(),(0,o.iD)("div",Ba,[(0,o._)("div",Va,[(0,o._)("div",Ya,[(0,o._)("button",{type:"button",class:"btn btn-secondary shadow-none",onClick:t[0]||(t[0]=(...e)=>r.getBack&&r.getBack(...e))},Za),(0,o._)("button",{class:"btn btn-primary mt-1 shadow-none",onClick:t[1]||(t[1]=e=>i.tab="table")}," Таблица "),(0,o._)("button",{class:"btn btn-primary mt-1 shadow-none",onClick:t[2]||(t[2]=e=>i.tab="graph")}," Графики ")]),"table"===i.tab?((0,o.wg)(),(0,o.iD)("div",Ga,[Fa,(0,o.wy)((0,o._)("select",{id:"period",class:"form-select shadow-none","onUpdate:modelValue":t[3]||(t[3]=e=>i.date=e),style:{width:"15rem"}},Qa,512),[[a.bM,i.date]]),(0,o._)("table",el,[(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",tl,(0,U.zw)(i.current_device.devName),1)]),(0,o._)("tr",null,[(0,o._)("th",sl,[al,(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",{class:"packet",type:"button",ref:"for_copy",onClick:t[4]||(t[4]=(...e)=>r.copy&&r.copy(...e))},[(0,o.Uk)((0,U.zw)(i.last_packet.data),1)])),[[c,"Нажмите для копирования","top"]])])]),(0,o._)("tr",null,[(0,o._)("th",ll,"Тип устройства : "+(0,U.zw)(i.type),1)]),i.error?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("tr",ol,[il,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.currentDeviceData.headers,(e=>((0,o.wg)(),(0,o.iD)("th",{key:e.id,scope:"col"},[(0,o.Uk)((0,U.zw)(e)+" ",1),i.has_tok&&r.isTok(e)?((0,o.wg)(),(0,o.iD)("span",rl,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.for_temp=e)},[nl,(0,o._)("option",{value:187.5},"мА",8,cl)],512),[[a.bM,i.for_temp]])])):(0,o.kq)("",!0)])))),128))]))]),i.error?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("tbody",dl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.currentDeviceData.data.filter((function(e){if(e.date_time>=i.date_filter_down)return e})),((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("th",pl,(0,U.zw)(t+1),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.data,((e,t)=>((0,o.wg)(),(0,o.iD)("td",{key:e.id},(0,U.zw)(isNaN(e)?"":t.startsWith("tok")&&187.5===i.for_temp?Math.round(Math.round(e/i.for_temp*1e3)/1e3*100)/100:e),1)))),128)),(0,o._)("td",null,(0,U.zw)(new Date(e.date_time).toLocaleString("ru-RU")),1)])))),128))]))])])):"graph"===i.tab?((0,o.wg)(),(0,o.iD)("div",hl,[(0,o._)("h1",null,"Название устройства : "+(0,U.zw)(i.current_device.devName),1),_l,(0,o.wy)((0,o._)("select",{id:"period",class:"form-select shadow-none","onUpdate:modelValue":t[6]||(t[6]=e=>i.date_graph=e),style:{width:"15rem"}},vl,512),[[a.bM,i.date_graph]]),i.error?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",fl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.currentDeviceData.graphs,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col p-2",key:e.id},[(0,o.Wm)(n,{ref_for:!0,ref:"realtimeChart",type:"line",options:e.chartOptions,series:e.series},null,8,["options","series"])])))),128))]))])):(0,o.kq)("",!0)])]))}var gl=s(407),bl=s.n(gl),wl={components:{apexchart:bl()},data(){return{response:[],currentDeviceData:[],last_packet:"",type:"",current_device:this.$store.state.current_devEui,loading:!0,for_temp:1,has_tok:!1,tab:"table",error:!1,date_filter_down:0,date:"month",date_graph:"month",graphs:[]}},activated(){this.loading=!0,this.error=!1,this.for_temp=1,this.tab="table",this.date="month",this.date_graph="month";var e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),this.date_filter_down=e.setMonth(e.getMonth()-1),this.current_device=this.$store.state.current_device;const t=this.$store.watch(this.$store.getters.currentDeviceData,(e=>{this.response=e,void 0!=this.response.data_list[0]?this.last_packet=this.response.data_list[0]:(this.last_packet={data:"Нет пакета"},this.error=!0),this.currentDeviceData=this.parse(this.response.data_list),this.filter_data(),this.loading=!1,t()}));this.get_data()},methods:{filter_data(){let e=[];for(const s of JSON.parse(JSON.stringify(this.graphs))){let a=s.chartOptions,l=s.series,o=a.xaxis,i=o.categories,r=l[0].data,n=[];r.map((function(e,t){n.push({var:e,date_time:i[t]})}));var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),"today"==this.date_graph||("week"==this.date_graph?t.setDate(t.getDate()-7):"month"==this.date_graph?t.setMonth(t.getMonth()-1):"three_month"==this.date_graph?t.setMonth(t.getMonth()-3):"half_year"==this.date_graph?t.setMonth(t.getMonth()-6):"year"==this.date_graph?t.setYear(t.getYear()-1):"all"==this.date_graph&&(t=0));let c=[],d=[];for(const e of n){let s=e.date_time.split(", "),a=s[0].split(".");a=a[2]+"-"+a[1]+"-"+a[0],s=a+"T"+s[1],Date.parse(s)>=t&&(c.push(e.var),d.push(e.date_time))}l[0].data=c,o.categories=d,a.xaxis=o,e.push({series:l,chartOptions:a})}this.currentDeviceData.graphs=e},get_data(){var e=JSON.stringify({cmd:"get_data_req",devEui:String(this.current_device.devEui)});E.send(e)},getBack(){this.$store.commit("set_current_component","Devices")},copy(){navigator.clipboard.writeText(this.$refs.for_copy.innerHTML),this.$notify({text:"Скопировано!",type:"success"})},isTok(e){return e.startsWith("Ток")},parse(e){let t="";try{t=this.get_type(e[0].data),this.type=t;let a={},l=[],o=[];if("ROSSMA IIOT-AMS ANALOG (multichannel)"==t){o=["Ток 1","Ток 2","Ток 3","Напряжение, мВ","Температура, °С"];let t=[];for(let a of e){let e=[];for(var s=0;s<a.data.length;s+=2)e.push(a.data.substr(s,2).toLocaleLowerCase());let o=parseInt(e.slice(1,3).join(""),16),i=parseInt(e.slice(3,5).join(""),16),r=parseInt(e.slice(5,7).join(""),16),n=parseInt(e.slice(7,9).join(""),16),c=parseInt(e.slice(9,10).join(""),16),d=new Date(a.ts);t.push(d.toLocaleString());let p={tok_1:o,tok_2:i,tok_3:r,volt:n,temp:c};l.push({data:p,date_time:a.ts})}let i=Array.from(l).reverse(),r=Array.from(t).reverse(),n=[],c=[],d=[],p=[],h=[];for(let e of i)n.push(e.data.tok_1),c.push(e.data.tok_2),d.push(e.data.tok_3),p.push(e.data.volt),h.push(e.data.temp);let _={"График изменения тока 1":{vel_name:"Ток",graph:n},"График изменения тока 2":{vel_name:"Ток",graph:c},"График изменения тока 3":{vel_name:"Ток",graph:d},"График изменения напряжения":{vel_name:"Напряжение",graph:p},"График изменения температуры":{vel_name:"Температура",graph:h}},u=[];for(const[e,s]of Object.entries(_))u.push({series:[{name:s.vel_name,data:s.graph}],chartOptions:{title:{text:e},colors:"Температура"==s.vel_name?["#ff0003"]:"Напряжение"==s.vel_name?["#0000ff"]:"Ток"==s.vel_name?["#ff00ff"]:["#ffffff"],xaxis:{categories:r}}});this.graphs=u,a={headers:o,data:l,graphs:u},this.has_tok=!0}else if("ROSSMA IIOT-AMS ANALOG (single channel)"==t){o=["Ток 1","Напряжение, мВ","Температура, °С"];let t=[];for(let a of e){let e=[];for(s=0;s<a.data.length;s+=2)e.push(a.data.substr(s,2).toLocaleLowerCase());let o=parseInt(e.slice(1,3).join(""),16),i=parseInt(e.slice(3,5).join(""),16),r=parseInt(e.slice(5,6).join(""),16),n=new Date(a.ts);t.push(n.toLocaleString());let c={tok_1:o,volt:i,temp:r};l.push({data:c,date_time:a.ts})}let i=Array.from(l).reverse(),r=Array.from(t).reverse(),n=[],c=[],d=[];for(let e of i)n.push(e.data.tok_1),c.push(e.data.volt),d.push(e.data.temp);let p={"График изменения тока 1":{vel_name:"Ток",graph:n},"График изменения напряжения":{vel_name:"Напряжение",graph:c},"График изменения температуры":{vel_name:"Температура",graph:d}},h=[];for(const[e,s]of Object.entries(p))h.push({series:[{name:s.vel_name,data:s.graph}],chartOptions:{title:{text:e},colors:"Температура"==s.vel_name?["#ff0003"]:"Напряжение"==s.vel_name?["#0000ff"]:"Ток"==s.vel_name?["#ff00ff"]:["#ffffff"],xaxis:{categories:r}}});this.graphs=h,a={headers:o,data:l,graphs:h},this.has_tok=!0}else if("ROSSMA IIOT-AMS DRY CONTACT RELAY"==t){o=["Состояние кнопки старт","Состояние кнопки стоп","Состояние датчика двери","Состояние датчика тока","Состояние реле"];let t=[];for(let a of e){let e=[];for(s=0;s<a.data.length;s+=2)e.push(a.data.substr(s,2).toLocaleLowerCase());let o=parseInt(e.slice(1,2).join(""),16),i=parseInt(e.slice(2,3).join(""),16),r=parseInt(e.slice(3,4).join(""),16),n=parseInt(e.slice(4,5).join(""),16),c=parseInt(e.slice(5,6).join(""),16),d=new Date(a.ts);t.push(d.toLocaleString());let p={start:o,stop:i,door:r,amper:n,relay:c};l.push({data:p,date_time:a.ts})}let i=Array.from(l).reverse(),r=Array.from(t).reverse(),n=[],c=[],d=[],p=[],h=[];for(let e of i)n.push(this.checker(e.data.start)),c.push(this.checker(e.data.stop)),d.push(this.checker(e.data.door)),p.push(this.checker(e.data.amper)),h.push(this.checker(e.data.relay));let _={"Состояние кнопки старт":{vel_name:"Состояние",graph:n},"Состояние кнопки стоп":{vel_name:"Состояние",graph:c},"Состояние датчика двери":{vel_name:"Состояние",graph:d},"Состояние датчика тока":{vel_name:"Состояние",graph:p},"Состояние реле":{vel_name:"Состояние",graph:h}},u=[];for(const[e,s]of Object.entries(_))u.push({series:[{name:s.vel_name,data:s.graph}],chartOptions:{title:{text:e},colors:"Температура"==s.vel_name?["#ff0003"]:"Напряжение"==s.vel_name?["#0000ff"]:"Ток"==s.vel_name?["#ff00ff"]:["#ffffff"],xaxis:{categories:r}}});this.graphs=u,a={headers:o,data:l,graphs:u}}else if("ROSSMA IIOT-AMS TILT COUNTER"==t){o=["Число качаний с момента отправки. Датчик 1","Число изменений состояния с момента отправки без обработки. Датчик 1","Число качаний. Датчик 1","Число изменений состояния без обработки. Датчик 1","Число качаний с момента отправки. Датчик 2","Число изменений состояния с момента отправки без обработки. Датчик 2","Число качаний. Датчик 2","Число изменений состояния без обработки. Датчик 2","Напряжение питания в мВ","Температура"];let t=[];for(let a of e){let e=[];for(s=0;s<a.data.length;s+=2)e.push(a.data.substr(s,2).toLocaleLowerCase());let o=parseInt(e.slice(1,3).join(""),16),i=parseInt(e.slice(3,5).join(""),16),r=parseInt(e.slice(5,13).join(""),16),n=parseInt(e.slice(13,21).join(""),16),c=parseInt(e.slice(21,23).join(""),16),d=parseInt(e.slice(23,25).join(""),16),p=parseInt(e.slice(25,33).join(""),16),h=parseInt(e.slice(33,41).join(""),16),_=parseInt(e.slice(41,43).join(""),16),u=parseInt(e.slice(43,44).join(""),16),v=new Date(a.ts);t.push(v.toLocaleString());let f={count_from_send_1:o,count_change_send_no_obr_1:i,count_1:r,count_change_no_obr_1:n,count_from_send_2:c,count_change_send_no_obr_2:d,count_2:p,count_change_no_obr_2:h,volt:_,temp:u};l.push({data:f,date_time:a.ts})}let i=Array.from(l).reverse(),r=Array.from(t).reverse(),n=[],c=[];for(let e of i)n.push(this.checker(e.data.volt)),c.push(this.checker(e.data.temp));let d={"График изменения напряжения":{vel_name:"Напряжение",graph:n},"График изменения температуры":{vel_name:"Температура",graph:c}},p=[];for(const[e,s]of Object.entries(d))p.push({series:[{name:s.vel_name,data:s.graph}],chartOptions:{title:{text:e},colors:"Температура"==s.vel_name?["#ff0003"]:"Напряжение"==s.vel_name?["#0000ff"]:"Ток"==s.vel_name?["#ff00ff"]:["#ffffff"],xaxis:{categories:r}}});this.graphs=p,a={headers:o,data:l,graphs:p}}else if("ROSSMA IIOT-AMS DRY CONTACT"==t){o=["Значение счетчика между передачами данных","Значение счетчика с момента отправки без обработки","Напряжение в мВ","Температура"];let t=[];for(let a of e){let e=[];for(s=0;s<a.data.length;s+=2)e.push(a.data.substr(s,2).toLocaleLowerCase());let o=parseInt(e.slice(1,5).join(""),16),i=parseInt(e.slice(5,13).join(""),16),r=parseInt(e.slice(13,15).join(""),16),n=parseInt(e.slice(15).join(""),16),c=new Date(a.ts);t.push(c.toLocaleString());let d={counter:o,counter_2:i,volt:r,temp:n};l.push({data:d,date_time:a.ts})}let i=Array.from(l).reverse(),r=Array.from(t).reverse(),n=[],c=[];for(let e of i)n.push(this.checker(e.data.volt)),c.push(this.checker(e.data.temp));let d={"График изменения напряжения":{vel_name:"Напряжение",graph:n},"График изменения температуры":{vel_name:"Температура",graph:c}},p=[];for(const[e,s]of Object.entries(d))p.push({series:[{name:s.vel_name,data:s.graph}],chartOptions:{title:{text:e},colors:"Температура"==s.vel_name?["#ff0003"]:"Напряжение"==s.vel_name?["#0000ff"]:"Ток"==s.vel_name?["#ff00ff"]:["#ffffff"],xaxis:{categories:r}}});this.graphs=p,a={headers:o,data:l,graphs:p}}else if("ROSSMA IIOT-AMS ESD"==t){o=["Причина сработки","Количество сработок по первому входу между пакетами с данными","Количество сработок по второму входу между пакетами с данными","Количество сработок по третьему входу между пакетами с данными","Количество сработок по четвёртому входу между пакетами с данными","Количество импульсов по 5 каналу между пакетами с данными","Общее количество импульсов по 5 каналу","Количество импульсов по 6 каналу между пакетами с данными","Общее количество импульсов по 6 каналу","Напряжение на батарее в мВ","Температура"];let t=[];for(let a of e){let e=[];for(s=0;s<a.data.length;s+=2)e.push(a.data.substr(s,2).toLocaleLowerCase());let o=parseInt(e.slice(1,2).join(""),16).toString(2);while(8!=o.length)o="0"+o;let i="";"1"==o[0]?i="Датчик наклона":1==o[1]?i="Датчик удара":1==o[2]?i="Датчик удара 2":1==o[3]&&(i="Звуковой датчик удара");let r=parseInt(e.slice(2,4).join(""),16),n=parseInt(e.slice(4,6).join(""),16),c=parseInt(e.slice(6,8).join(""),16),d=parseInt(e.slice(8,10).join(""),16),p=parseInt(e.slice(10,14).join(""),16),h=parseInt(e.slice(14,22).join(""),16),_=parseInt(e.slice(22,26).join(""),16),u=parseInt(e.slice(26,34).join(""),16),v=parseInt(e.slice(34,36).join(""),16),f=parseInt(e.slice(36).join(""),16),m=new Date(a.ts);t.push(m.toLocaleString());let g={state:i,channel_1:r,channel_2:n,channel_3:c,channel_4:d,imp_5:p,all_imp_5:h,imp_6:_,all_imp_6:u,volt:v,temp:f};l.push({data:g,date_time:a.ts})}let i=Array.from(l).reverse(),r=Array.from(t).reverse(),n=[],c=[];for(let e of i)n.push(this.checker(e.data.volt)),c.push(this.checker(e.data.temp));let d={"График изменения напряжения":{vel_name:"Напряжение",graph:n},"График изменения температуры":{vel_name:"Температура",graph:c}},p=[];for(const[e,s]of Object.entries(d))p.push({series:[{name:s.vel_name,data:s.graph}],chartOptions:{title:{text:e},colors:"Температура"==s.vel_name?["#ff0003"]:"Напряжение"==s.vel_name?["#0000ff"]:"Ток"==s.vel_name?["#ff00ff"]:["#ffffff"],xaxis:{categories:r}}});this.graphs=p,a={headers:o,data:l,graphs:p}}else"Неизвестный тип"==t&&(this.error=!0);return console.log(this.graphs),a}catch(a){t="??"}this.type=t},get_type(e){let t=[];for(var s=0;s<e.length;s+=2)t.push(e.substr(s,2).toLocaleLowerCase());return 10==t.length&&e.length%2==0?"ROSSMA IIOT-AMS ANALOG (multichannel)":6==t.length&&e.length%2==0&&"dd"==t[0]?"ROSSMA IIOT-AMS ANALOG (single channel)":37==t.length&&e.length%2==0?"ROSSMA IIOT-AMS ESD":16==t.length&&e.length%2==0?"ROSSMA IIOT-AMS DRY CONTACT":7!=t.length&&6!=t.length||e.length%2!=0||"cc"!=t[0]&&"a1"!=t[0]?44==t.length&&"cc"==t[0]&&e.length%2==0?"ROSSMA IIOT-AMS TILT COUNTER":44!=t.length||"01"!=t[0]||e.length%2!=0?"Неизвестный тип":"10"==t[1]?"Квант-1":"11"==t[1]?"Каскад 2-200":"1c"==t[1]?"Modbus 3":void 0:"ROSSMA IIOT-AMS DRY CONTACT RELAY"},checker(e){return isNaN(e)?0:e}},watch:{date(){var e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),"today"==this.date?this.date_filter_down=e:"week"==this.date?this.date_filter_down=e.setDate(e.getDate()-7):"month"==this.date?this.date_filter_down=e.setMonth(e.getMonth()-1):"three_month"==this.date?this.date_filter_down=e.setMonth(e.getMonth()-3):"half_year"==this.date?this.date_filter_down=e.setMonth(e.getMonth()-6):"year"==this.date?this.date_filter_down=e.setYear(e.getYear()-1):"all"==this.date&&(this.date_filter_down=0)},date_graph(){this.filter_data()}}};const yl=(0,O.Z)(wl,[["render",ml],["__scopeId","data-v-3b79e12a"]]);var kl=yl;const Al=e=>((0,o.dD)("data-v-dad5e716"),e=e(),(0,o.Cn)(),e),xl={class:"container-fluid d-flex w-75 mt-3"},Dl={class:"d-flex flex-column"},Il={class:"form-group mt-2"},Sl=Al((()=>(0,o._)("label",{for:"form_packet"},"Данные",-1))),ql=Al((()=>(0,o._)("button",{id:"form_submit",type:"submit",class:"btn btn-success mt-2 shadow-none"}," Обработать ",-1))),Cl={class:"ms-5 data w-50 p-2"},El={key:0};function jl(e,t,s,l,i,r){return(0,o.wg)(),(0,o.iD)("div",xl,[(0,o._)("div",Dl,[(0,o._)("button",{class:"btn btn-primary shadow-none mb-1",onClick:t[0]||(t[0]=e=>i.packet="DD02EE0EA608CA0E0114")},"ANALOG MULTICHANNEL"),(0,o._)("button",{class:"btn btn-primary shadow-none mb-1",onClick:t[1]||(t[1]=e=>i.packet="DD02EE0E0114")},"ANALOG SINGLECHANNEL"),(0,o._)("button",{class:"btn btn-primary shadow-none mb-1",onClick:t[2]||(t[2]=e=>i.packet="dd0e00000015001000140000000000000000000000000000000000000000000000000ccc14")},"ESD"),(0,o._)("button",{class:"btn btn-primary shadow-none mb-1",onClick:t[3]||(t[3]=e=>i.packet="cc0000002200000000000000220ddc12")},"Dry Contact"),(0,o._)("button",{class:"btn btn-primary shadow-none mb-1",onClick:t[4]||(t[4]=e=>i.packet="a1000101010101")},"Dry Contact Relay"),(0,o._)("button",{class:"btn btn-primary shadow-none mb-1",onClick:t[5]||(t[5]=e=>i.packet="cc000000000000000000000000000000000000000000000000000000000000000000000000000000000de110")},"Tilt Counter"),(0,o._)("button",{class:"btn btn-primary shadow-none mb-1",onClick:t[6]||(t[6]=e=>i.packet="011c0009009200950092270f002c000000000000018101800185004d125c02250c1c001c000c16051a0e00bb")},"Modbus"),(0,o._)("button",{class:"btn btn-primary shadow-none mb-1",onClick:t[7]||(t[7]=e=>i.packet="0110000000000000000004570000ffff0000000000020000000200000000000000000000000000000068")},"Квант-1")]),(0,o._)("form",{id:"inputdata",class:"w-25 p-2 data",onSubmit:t[9]||(t[9]=(0,a.iM)(((...e)=>r.decipher&&r.decipher(...e)),["prevent"])),name:"inputdata",style:{height:"138px"}},[(0,o._)("div",Il,[Sl,(0,o.wy)((0,o._)("input",{class:"form-control shadow-none","onUpdate:modelValue":t[8]||(t[8]=e=>i.packet=e),id:"form_packet",name:"data",required:"",type:"text"},null,512),[[a.nr,i.packet]])]),ql],32),(0,o._)("div",Cl,[(0,o._)("ol",null,[""!=i.type?((0,o.wg)(),(0,o.iD)("li",El,"Тип устройства : "+(0,U.zw)(i.type),1)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.result,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t},(0,U.zw)(t)+" : "+(0,U.zw)(e),1)))),128))])])])}var Ol={data(){return{packet:"",result:{},type:""}},methods:{decipher(){this.result={},this.type="",console.log(this.packet.length);let e=[];for(var t=0;t<this.packet.length;t+=2)e.push(this.packet.substr(t,2).toLocaleLowerCase());if(10==e.length&&this.packet.length%2==0){let t=parseInt(e.slice(1,3).join(""),16),s=parseInt(e.slice(3,5).join(""),16),a=parseInt(e.slice(5,7).join(""),16),l=parseInt(e.slice(7,9).join(""),16),o=parseInt(e.slice(9,10).join(""),16);this.type="ROSSMA IIOT-AMS ANALOG (multichannel)",this.result={"Ток 1го канала измерения":t,"Ток 2го канала измерения":s,"Ток 3го канала измерения":a,"Напряжение питания в мВ":l,"Температура":o+"°С"}}else if(6==e.length&&this.packet.length%2==0&&"dd"==e[0]){let t=parseInt(e.slice(1,3).join(""),16),s=parseInt(e.slice(3,5).join(""),16),a=parseInt(e.slice(5,6).join(""),16);this.type="ROSSMA IIOT-AMS ANALOG (single channel)",this.result={"Ток 1го канала измерения":t,"Напряжение питания в мВ":s,"Температура":a+"°С"}}else if(37==e.length&&this.packet.length%2==0){let t=parseInt(e.slice(1,2).join(""),16).toString(2);while(8!=t.length)t="0"+t;let s="";"1"==t[0]?s="Датчик наклона":1==t[1]?s="Датчик удара":1==t[2]?s="Датчик удара 2":1==t[3]&&(s="Звуковой датчик удара");let a=parseInt(e.slice(2,4).join(""),16),l=parseInt(e.slice(4,6).join(""),16),o=parseInt(e.slice(6,8).join(""),16),i=parseInt(e.slice(8,10).join(""),16),r=parseInt(e.slice(10,14).join(""),16),n=parseInt(e.slice(14,22).join(""),16),c=parseInt(e.slice(22,26).join(""),16),d=parseInt(e.slice(26,34).join(""),16),p=parseInt(e.slice(34,36).join(""),16),h=parseInt(e.slice(36).join(""),16);this.type="ROSSMA IIOT-AMS ESD",this.result={"Причина сработки":s,"Количество сработок по первому входу между пакетами с данными":a,"Количество сработок по второму входу между пакетами с данными":l,"Количество сработок по третьему входу между пакетами с данными":o,"Количество сработок по четвёртому входу между пакетами с данными":i,"Количество импульсов по 5 каналу между пакетами с данными":r,"Общее количество импульсов по 5 каналу":n,"Количество импульсов по 6 каналу между пакетами с данными":c,"Общее количество импульсов по 6 каналу":d,"Напряжение на батарее в мВ":p,"Температура":h+"°С"}}else if(16==e.length&&this.packet.length%2==0){let t=parseInt(e.slice(1,5).join(""),16),s=parseInt(e.slice(5,13).join(""),16),a=parseInt(e.slice(13,15).join(""),16),l=parseInt(e.slice(15).join(""),16);this.type="ROSSMA IIOT-AMS DRY CONTACT",this.result={"Значение счетчика между передачами данных":t,"Значение счетчика с момента отправки без обработки":s,"Напряжение в мВ":a,"Температура":l+"°С"}}else if(7!=e.length&&6!=e.length||this.packet.length%2!=0){if(44==e.length&&"cc"==e[0]&&this.packet.length%2==0){let t=parseInt(e.slice(1,3).join(""),16),s=parseInt(e.slice(3,5).join(""),16),a=parseInt(e.slice(5,13).join(""),16),l=parseInt(e.slice(13,21).join(""),16),o=parseInt(e.slice(21,23).join(""),16),i=parseInt(e.slice(23,25).join(""),16),r=parseInt(e.slice(25,33).join(""),16),n=parseInt(e.slice(33,41).join(""),16),c=parseInt(e.slice(41,43).join(""),16),d=parseInt(e.slice(43,44).join(""),16);this.type="ROSSMA IIOT-AMS TILT COUNTER",this.result={"Число качаний с момента отправки. Датчик 1":t,"Число изменений состояния с момента отправки без обработки. Датчик 1":s,"Число качаний. Датчик 1":a,"Число изменений состояния без обработки. Датчик 1":l,"Число качаний с момента отправки. Датчик 2":o,"Число изменений состояния с момента отправки без обработки. Датчик 2":i,"Число качаний. Датчик 2":r,"Число изменений состояния без обработки. Датчик 2":n,"Напряжение питания в мВ":c,"Температура":d+"°С"}}else if(44==e.length&&"01"==e[0]&&this.packet.length%2==0){"10"==e[1]?this.type="Квант-1":"11"==e[1]?this.type="Каскад 2-200":"1c"==e[1]&&(this.type="Modbus 3");let t=parseInt(e.slice(2,4).join(""),16),s=parseInt(e.slice(4,6).join(""),16),a=parseInt(e.slice(6,8).join(""),16),l=parseInt(e.slice(8,10).join(""),16),o=parseInt(e.slice(10,12).join(""),16),i=parseInt(e.slice(12,14).join(""),16),r=parseInt(e.slice(14,16).join(""),16),n=parseInt(e.slice(16,18).join(""),16),c=parseInt(e.slice(18,20).join(""),16),d=parseInt(e.slice(20,22).join(""),16),p=parseInt(e.slice(22,24).join(""),16),h=parseInt(e.slice(24,26).join(""),16),_=parseInt(e.slice(26,28).join(""),16),u=parseInt(e.slice(28,30).join(""),16)/100,v=parseInt(e.slice(30,32).join(""),16)/10,f=parseInt(e.slice(32,34).join(""),16)/100,m=parseInt(e.slice(34,36).join(""),16),g=parseInt(e.slice(36,38).join(""),16),b=parseInt(e.slice(38,40).join(""),16),w=parseInt(e.slice(40,42).join(""),16);this.result={"Состояние":"9"==t?"Работа":"Выключено","Ток фазы A":s/10+" A","Ток фазы B":a/10+" A","Ток фазы C":l/10+" A","Сопротивление изоляции":o+" кОм","Температура двигателя":i+"°С","Температура (на выкиде.)":r+"°С","Вибрация по оси X":n+" м/с2","Вибрация по оси Y":c+" м/с2","Напряжение фазы A":d+" В","Напряжение фазы B":p+" В","Напряжение фазы C":h+" В","Загрузка ЭД":_+"%","Частота":u+" Гц","Активная мощность":v+" кВт","Активная мощность":v+" кВт","Давление на приёме":f+" атм.","Температура скважины":m+"°С","Причина последнего останова":g,"Причина мешающая пуску":b,"Причина мешающая пуску":b,"Количество пусков":w}}}else{let t=parseInt(e.slice(1,2).join(""),16),s=parseInt(e.slice(2,3).join(""),16),a=parseInt(e.slice(3,4).join(""),16),l=parseInt(e.slice(4,5).join(""),16),o=parseInt(e.slice(5,6).join(""),16),i=parseInt(e.slice(6,7).join(""),16);this.type="ROSSMA IIOT-AMS DRY CONTACT RELAY",this.result={"Состояние кнопки старт":t,"Состояние кнопки стоп":s,"Состояние датчика двери":a,"Состояние датчика тока":l,"Состояние реле":o,"Тип события":isNaN(i)?"Неизвестно":i}}}}};const Ml=(0,O.Z)(Ol,[["render",jl],["__scopeId","data-v-dad5e716"]]);var Ll=Ml,Ul={components:{Users:Ta,Devices:ts,Device_detail:kl,Decipher:Ll},data(){return{component:"Devices",isActive:1}},mounted(){this.$store.watch(this.$store.getters.component,(e=>{"Auth"!=e&&(this.component=e,"Devices"==this.component?this.isActive=1:"Users"==this.component?this.isActive=2:"Decipher"==this.component?this.isActive=3:this.isActive=4)}))},methods:{change_component(e){this.$store.commit("set_current_component",e)},exit(){var e=JSON.stringify({cmd:"close_auth_req",token:localStorage.token});E.send(e)}}};const Pl=(0,O.Z)(Ul,[["render",V],["__scopeId","data-v-44763eee"]]);var Nl=Pl,zl={data(){return{page:L,devices_extend:[],devices_pre:{},devices:[],groups:[]}},mounted(){var e=this;E.onmessage=function(t){var s=JSON.parse(t.data);if("auth_resp"==s.cmd)1==s.status?(e.$store.commit("set_current_user_commands",s.command_list),e.$store.commit("set_current_page","Main"),localStorage.token=s.token):e.$notify({title:"Ошибка",text:"Неверный логин или пароль",type:"error"});else if("token_auth_resp"==s.cmd)1==s.status&&(localStorage.token=s.token,e.$store.commit("set_current_page","Main"));else if("get_users_resp"==s.cmd)e.$store.commit("set_userList",s.user_list);else if("get_devices_resp"==s.cmd){e.devices_extend=[],e.groups=[],e.devices_pre={},e.devices=[],e.devices_extend=s.devices_list;for(let t in e.devices_extend)e.devices_pre[e.devices_extend[t].devEui]=Object.assign({},e.devices_extend[t],{group:""})}else if("get_device_appdata_resp"==s.cmd){e.devices_extend=s.devices_list;for(let t in e.devices_extend)e.devices_pre[e.devices_extend[t].devEui].group=e.devices_extend[t].group;for(const[t,s]of Object.entries(e.devices_pre))e.devices.push(s);e.groups.push("Все устройства");for(let t in e.devices)-1==e.groups.indexOf(e.devices[t].group,0)&&void 0!=e.devices[t].group&&""!=e.devices[t].group&&e.groups.push(e.devices[t].group);2==e.groups.length||e.groups.push("Без группы"),e.devices.sort((function(e,t){return t.last_data_ts-e.last_data_ts})),e.$store.commit("set_devices",e.devices),e.$store.commit("set_groups",e.groups)}else"close_auth_resp"==s.cmd?1==s.status&&(e.$store.commit("set_current_page","Auth"),e.$store.commit("set_current_component","Devices"),e.$store.commit("set_devices",[]),e.$store.commit("set_groups",[]),e.$store.commit("set_ws_link","wss://lora-ws.rossma.tk"),localStorage.removeItem("token")):"get_data_resp"==s.cmd?1==s.status&&e.$store.commit("set_currentDeviceData",s):"delete_users_resp"==s.cmd?1==s.status&&e.$notify({title:"Подтверждение",text:"Пользователь успешно удалён",type:"success"}):"manage_users_resp"==s.cmd&&1==s.status&&e.$notify({title:"Подтверждение",text:"Пользователь успешно добавлен",type:"success"})},this.$store.watch(this.$store.getters.page,(e=>{"Auth"==e?this.page=L:"Main"==e&&(this.page=Nl)})),this.$store.watch(this.$store.getters.ws_link,(e=>{var t=this;E.onmessage=function(e){var s=JSON.parse(e.data);if("auth_resp"==s.cmd)1==s.status?(t.$store.commit("set_current_user_commands",s.command_list),t.$store.commit("set_current_page","Main"),localStorage.token=s.token):t.$notify({title:"Ошибка",text:"Неверный логин или пароль",type:"error"});else if("token_auth_resp"==s.cmd)1==s.status&&(localStorage.token=s.token,t.$store.commit("set_current_page","Main"));else if("get_users_resp"==s.cmd)t.$store.commit("set_userList",s.user_list);else if("get_devices_resp"==s.cmd){t.devices_extend=[],t.devices_pre={},t.devices_extend=s.devices_list;for(let e in t.devices_extend)t.devices_pre[t.devices_extend[e].devEui]=Object.assign({},t.devices_extend[e],{group:""})}else if("get_device_appdata_resp"==s.cmd){t.devices_extend=s.devices_list;for(let e in t.devices_extend)t.devices_pre[t.devices_extend[e].devEui].group=t.devices_extend[e].group;t.devices=[];for(const[e,s]of Object.entries(t.devices_pre))t.devices.push(s);t.groups=[],t.groups.push("Все устройства");for(let e in t.devices)-1==t.groups.indexOf(t.devices[e].group,0)&&void 0!=t.devices[e].group&&""!=t.devices[e].group&&t.groups.push(t.devices[e].group);2==t.groups.length||t.groups.push("Без группы"),t.devices.sort((function(e,t){return t.last_data_ts-e.last_data_ts})),t.$store.commit("set_devices",t.devices),t.$store.commit("set_groups",t.groups)}else"close_auth_resp"==s.cmd?1==s.status&&(t.$store.commit("set_current_page","Auth"),t.$store.commit("set_current_component","Devices"),t.$store.commit("set_devices",[]),t.$store.commit("set_groups",[]),t.$store.commit("set_ws_link","wss://lora-ws.rossma.tk"),localStorage.removeItem("token")):"get_data_resp"==s.cmd&&1==s.status&&t.$store.commit("set_currentDeviceData",s)}}))}};const Tl=(0,O.Z)(zl,[["render",i]]);var $l=Tl,Rl=(s(8937),s(2636)),Kl={updateTooltip(e,{value:t,modifiers:s}){if("string"===typeof t)e.setAttribute("data-v-tooltip",t),s.arrow&&e.style.setProperty("--v-tooltip-arrow-display","inline");else{if(t.text&&e.setAttribute("data-v-tooltip",t.text),t.displayArrow||s.arrow){const s=t.global?document.documentElement:e;s.style.setProperty("--v-tooltip-arrow-display","inline")}if(t.theme){const a=t.global?document.documentElement:e;for(const[e,l]of Object.entries(t.theme))if("placement"===e)switch(l){case"top":a.style.setProperty("--v-tooltip-left","50%"),a.style.setProperty("--v-tooltip-top","0%"),a.style.setProperty("--v-tooltip-translate","translate(-50%, -110%)"),(t.displayArrow||s.arrow)&&(a.style.setProperty("--v-tooltip-arrow-border-color","var(--v-tooltip-background-color) transparent transparent transparent"),a.style.setProperty("--v-tooltip-arrow-top","calc(var(--v-tooltip-top) - var(--v-tooltip-top-offset) + 8px)"));break;case"bottom":a.style.setProperty("--v-tooltip-left","50%"),a.style.setProperty("--v-tooltip-top","100%"),a.style.setProperty("--v-tooltip-translate","translate(-50%, 10%)"),(t.displayArrow||s.arrow)&&(a.style.setProperty("--v-tooltip-arrow-border-color","transparent transparent var(--v-tooltip-background-color) transparent"),a.style.setProperty("--v-tooltip-arrow-top","calc(var(--v-tooltip-top) - var(--v-tooltip-top-offset) - 7px)"));break;case"left":a.style.setProperty("--v-tooltip-left","0%"),a.style.setProperty("--v-tooltip-top","50%"),a.style.setProperty("--v-tooltip-translate","translate(-110%, -50%)"),(t.displayArrow||s.arrow)&&(a.style.setProperty("--v-tooltip-arrow-border-color","transparent transparent transparent var(--v-tooltip-background-color)"),a.style.setProperty("--v-tooltip-arrow-top","calc(var(--v-tooltip-top)"),a.style.setProperty("--v-tooltip-arrow-left","calc( var(--v-tooltip-left) - var(--v-tooltip-left-offset) + 1.5px)"));break;case"right":a.style.setProperty("--v-tooltip-left","100%"),a.style.setProperty("--v-tooltip-top","50%"),a.style.setProperty("--v-tooltip-translate","translate(10%, -50%)"),(t.displayArrow||s.arrow)&&(a.style.setProperty("--v-tooltip-arrow-border-color","transparent var(--v-tooltip-background-color) transparent  transparent"),a.style.setProperty("--v-tooltip-arrow-top","calc(var(--v-tooltip-top)"),a.style.setProperty("--v-tooltip-arrow-left","calc( var(--v-tooltip-left) - var(--v-tooltip-left-offset) - 2px)"));break;default:break}else if("offset"!==e||t.global)a.style.setProperty(`--v-tooltip-${e}`,l);else for(const t of l)"left"===t?a.style.setProperty("--v-tooltip-left-offset",`-${a.scrollWidth-a.clientWidth}px`):"right"===t?a.style.setProperty("--v-tooltip-left-offset",a.scrollWidth-a.clientWidth+"px"):"top"===t?a.style.setProperty("--v-tooltip-top-offset",`-${a.scrollHeight-a.clientHeight}px`):"bottom"===t&&a.style.setProperty("--v-tooltip-top-offset",a.scrollHeight-a.clientHeight+"px")}}},mounted(e,{value:t,dir:s,modifiers:a}){("object"===typeof t&&!t.global&&t.text||"string"===typeof t)&&e.classList.add("data-v-tooltip"),s.updateTooltip(e,{value:t,modifiers:a})},updated(e,{value:t,dir:s,modifiers:a}){s.updateTooltip(e,{value:t,modifiers:a})}};const Hl=(0,l.MT)({state:{current_user_commands:[],current_device:"",current_component:"Devices",page:"Auth",userList:[],devices:[],groups:[],currentDeviceData:[],ws_link:localStorage.default_ws_link?localStorage.default_ws_link:"wss://lora-ws.rossma.tk"},getters:{page:e=>()=>e.page,component:e=>()=>e.current_component,current_device:e=>()=>e.current_device,currentDeviceData:e=>()=>e.currentDeviceData,userList:e=>()=>e.userList,devices:e=>()=>e.devices,groups:e=>()=>e.groups,ws_link:e=>()=>e.ws_link},mutations:{set_current_user_commands:(e,t)=>{e.current_user_commands=t},set_current_device:(e,t)=>{e.current_device=t},set_currentDeviceData:(e,t)=>{e.currentDeviceData=t},set_current_page:(e,t)=>{e.page=t},set_current_component:(e,t)=>{e.current_component=t},set_userList:(e,t)=>{e.userList=t},set_devices:(e,t)=>{e.devices=t},set_groups:(e,t)=>{e.groups=t},set_ws_link:(e,t)=>{e.ws_link=t}}});(0,a.ri)($l).use(Hl).use(Rl.Z).directive("tooltip",Kl).mount("#app")}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,l,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],o=e[d][2];for(var r=!0,n=0;n<a.length;n++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,l,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,o,i=a[0],r=a[1],n=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(l in r)s.o(r,l)&&(s.m[l]=r[l]);if(n)var d=n(s)}for(t&&t(a);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},a=self["webpackChunkvue_practice"]=self["webpackChunkvue_practice"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(2172)}));a=s.O(a)})();
//# sourceMappingURL=app.42c8ffcf.js.map